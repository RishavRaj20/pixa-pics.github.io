/*! For license information please see chunk_13.min.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{597:function(e,t,r){var o,i,n=function a(){if(!(this instanceof a))return new a;this.BMC_LENGTH_=a.config.BMC_LENGTH,this.BMC_CODE_=a.config.BMC_CODE,this.FIRST_BYTE_MASK_=a.config.FIRST_BYTE_MASK,this.INTEGRITY_BYTE_MASK_=a.config.INTEGRITY_BYTE_MASK,this.READING_BYTE_MASK_=a.config.READING_BYTE_MASK,this.char_code_=0,this.char_length_=0,this.needed_bytes_=0,this.temp_bytes_=new Uint8Array(4)};n.prototype.imul=Math.imul,(n.config={}).BMC_LENGTH=Uint8Array.of(0,127,192,224,240),n.config.BMC_CODE=Uint32Array.of(0,128,2048,65536,2097152),n.config.FIRST_BYTE_MASK=Uint8Array.of(0,1,3,7,15),n.config.INTEGRITY_BYTE_MASK=Uint8Array.of(0,64,32,16,8),n.config.READING_BYTE_MASK=Uint8Array.of(0,63,31,15,7),Object.defineProperty(n.prototype,"char_code",{get:function(){return 65535&this.char_code_},set:function(e){this.char_code_=65535&e}}),Object.defineProperty(n.prototype,"char_length",{get:function(){return 4294967295&this.char_length_},set:function(e){this.char_length_=4294967295&e}}),Object.defineProperty(n.prototype,"needed_bytes",{get:function(){return 4294967295&this.needed_bytes_},set:function(e){this.needed_bytes_=4294967295&e}}),Object.defineProperty(n.prototype,"set_temp_byte",{get:function(){return function(e,t){this.temp_bytes_[0|e]=255&t}}}),Object.defineProperty(n.prototype,"set_temp_byte_length",{get:function(){return function(e){this.temp_bytes_=new Uint8Array(0|e)}}}),Object.defineProperty(n.prototype,"set_temp_bytes",{get:function(){return function(e,t){this.temp_bytes_.set(e,0|t)}}}),Object.defineProperty(n.prototype,"temp_bytes_subarray",{get:function(){return function(e,t){return this.temp_bytes_.subarray(0|e,0|t)}}}),Object.defineProperty(n.prototype,"BMC_LENGTH_E",{get:function(){return function(e){return 255&this.BMC_LENGTH_[0|e]}}}),Object.defineProperty(n.prototype,"BMC_CODE_E",{get:function(){return function(e){return 4294967295&this.BMC_CODE_[0|e]}}}),Object.defineProperty(n.prototype,"FIRST_BYTE_MASK_E",{get:function(){return function(e){return 15&this.FIRST_BYTE_MASK_[0|e]}}}),Object.defineProperty(n.prototype,"INTEGRITY_BYTE_MASK_E",{get:function(){return function(e){return 255&this.INTEGRITY_BYTE_MASK_[0|e]}}}),Object.defineProperty(n.prototype,"READING_BYTE_MASK_E",{get:function(){return function(e){return 255&this.READING_BYTE_MASK_[0|e]}}}),n.prototype._getCharLength=function(e){return this.BMC_LENGTH_E(4)==(e&this.BMC_LENGTH_E(4))?4:this.BMC_LENGTH_E(3)==(e&this.BMC_LENGTH_E(3))?3:this.BMC_LENGTH_E(2)==(e&this.BMC_LENGTH_E(2))?2:e==(e&this.BMC_LENGTH_E(1))?1:0},n.prototype._getBytesForCharCode=function(e){if(e<this.BMC_CODE_E(1))return 1;if(e<this.BMC_CODE_E(2))return 2;if(e<this.BMC_CODE_E(3))return 3;if(e<this.BMC_CODE_E(4))return 4;throw Error("CharCode "+e+" cannot be encoded with UTF8.")},n.prototype._setBytesFromCharCode=function(e,t,r,o){if(r|=0,o|=0,this.char_code=0|e,this.needed_bytes=0==(0|o)?this._getBytesForCharCode(this.char_code):0|o,1==(0|this.needed_bytes))this.set_temp_byte(0|r,0|this.char_code);else for(this.needed_bytes=this.needed_bytes-1|0,this.set_temp_byte(0|r,(this.FIRST_BYTE_MASK_E(this.needed_bytes)<<8-this.needed_bytes)+(this.char_code>>>6*this.needed_bytes)|0),r=r+1|0;(0|this.needed_bytes)>0;)this.needed_bytes=this.needed_bytes-1|0,this.set_temp_byte(0|r,128|this.char_code>>>6*this.needed_bytes&63),r=r+1|0},n.prototype.toUint8Array=function(e,t,r,o,i){e=e||"",r|=0,this.set_temp_byte_length(3*e.length+2),void 0!==t&&this.set_temp_bytes(t,0),o="number"==typeof o?o:Infinity;for(var n=0,a=0|e.length;(0|n)<(0|a);n=(n+1|0)>>>0)this.needed_bytes=this._getBytesForCharCode(e[n].codePointAt(0)),this._setBytesFromCharCode(e[0|n].codePointAt(0),this.temp_bytes_subarray(0,0|r),0|r,0|this.needed_bytes,i),r=r+this.needed_bytes|0;return this.temp_bytes_subarray(0,0|r)},n.prototype._getCharCode=function(e,t,r){if(this.char_code=0,t|=0,this.char_length=0==(0|r)?this._getCharLength(0|e[0|t]):0|r,1==(0|this.char_length))return 0|e[0|t];for(this.char_length=this.char_length-1|0,this.char_code=this.char_code+((e[0|t]&this.READING_BYTE_MASK_E(this.char_length))<<6*this.char_length)|0;this.char_length;)t=t+1|0,this.char_length=this.char_length-1|0,this.char_code=this.char_code+((63&e[0|t])<<6*this.char_length)|0;return 0|this.char_code},n.prototype.fromUint8Array=function(e,t,r,o){this.char_length=0;var i="";for(t|=0,r="number"==typeof r?r:e.byteLength||0|e.length;(0|t)<(0|r);(t=t+1|0)>>>0){if(this.char_length=this._getCharLength(e[t]),o&&(t+this.char_length|0)>(0|r))throw Error("Index "+t+": Found a "+this.char_length+" bytes encoded char declaration but only "+(r-t)+" bytes are available.");i=i.concat(String.fromCodePoint(this._getCharCode(e,0|t,0|this.char_length,o))),t=t+this.char_length-1|0}return i},n.prototype.isNotUTF8=function(e,t,r){try{this.fromUint8Array(e,t,r,!0)}catch(o){return!0}return!1},(o=function s(e,t){if(!(this instanceof s))return new s(e);if("BASE64"!=(t=(t=t||"UNKNOWN").toUpperCase()))if(e instanceof Uint8Array||e instanceof Uint8ClampedArray)this.storage_input_=e;else if("string"==typeof e)this.storage_input_=s.UTFX.toUint8Array(e);else if("undefined"!=typeof e.buffer||e instanceof ArrayBuffer)this.storage_input_=new Uint8Array(e instanceof ArrayBuffer?e:e.buffer);else if(e instanceof Array)this.storage_input_=Uint8Array.from(e);else{if("object"!=typeof e)throw new TypeError("attempted to parse failed");this.storage_input_=s.JSONX.stringify(e)}else this.storage_input_=s.BASE64.toUint8Array(e);return this.storage_input_length_=0|e.length,this.TILD_CHAR_CODE_=s.config.TILD_CHAR_CODE,this.BACKSLASH_CHAR_=s.config.BACKSLASH_CHAR,this.SLASH_CHAR_=s.config.SLASH_CHAR,this.CHUNCK_LENGTH_=s.config.CHUNCK_LENGTH,this.ENCODE_MAPPING_=s.config.ENCODE_MAPPING,this.DECODE_MAPPING_=s.config.DECODE_MAPPING,this}).JSONX=JSON,o.UTF8=new n,o.UTFX=o.UTF8,o.config={},o.config.TILD_CHAR_CODE=126,o.config.BACKSLASH_CHAR="\\",o.config.SLASH_CHAR="/",o.config.CHUNCK_LENGTH=256,o.config.ENCODE_MAPPING=Uint8Array.of(33,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),o.config.DECODE_MAPPING=Uint8Array.of(255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,255,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,255,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255),Object.defineProperty(o.prototype,"getCharCodeAt",{get:function(){return function(e){return e|=0,this.storage_input_[0|e]}}}),Object.defineProperty(o.prototype,"getDecodedCharCodeAt",{get:function(){return function(e){return e|=0,this.DECODE_MAPPING_[this.storage_input_[0|e]]}}}),Object.defineProperty(o.prototype,"decodeChar",{get:function(){return function(e){return e|=0,this.DECODE_MAPPING_[0|e]}}}),Object.defineProperty(o.prototype,"encodeChar",{get:function(){return function(e){return e|=0,this.ENCODE_MAPPING_[0|e]}}}),Object.defineProperty(o.prototype,"inputLength",{get:function(){return 0|this.storage_input_length_}}),Object.defineProperty(o.prototype,"BACKSLASH_CHAR",{get:function(){return this.BACKSLASH_CHAR_}}),Object.defineProperty(o.prototype,"SLASH_CHAR",{get:function(){return this.SLASH_CHAR_}}),Object.defineProperty(o.prototype,"CHUNCK_LENGTH",{get:function(){return this.CHUNCK_LENGTH_}}),Object.defineProperty(o.prototype,"TILD_CHAR_CODE",{get:function(){return this.TILD_CHAR_CODE_}}),o.utils={},o.utils.onlyCharPrintable=function(e){return e.replace(/[\u0000-\u0019]+/g,"")},o.utils.onlyCharParsable=function(e){return e.replace(/\\n/g,"\\n").replace(/\\'/g,"\\'").replace(/\\"/g,'\\"').replace(/\\&/g,"\\&").replace(/\\r/g,"\\r").replace(/\\t/g,"\\t").replace(/\\b/g,"\\b").replace(/\\f/g,"\\f")},o.utils.MAGIC_WORD="UraniumJS! ",o.utils.parse=function(e){return o.JSONX.parse(o.utils.onlyCharParsable(e))},o.utils.stringify=function(e){return o.utils.onlyCharPrintable(o.JSONX.stringify(e))},o.utils.escape=function(e){return e=(e=(e=e.replaceAll(o.config.BACKSLASH_CHAR," ")).replaceAll(o.config.SLASH_CHAR,"~")).replaceAll("$","ยก"),o.utils.MAGIC_WORD+e.replaceAll("'","ยง")},o.utils.unescape=function(e){return(e=(e=(e=(e=e.replaceAll(o.utils.MAGIC_WORD,"")).replaceAll("ยง","'")).replaceAll("ยก","$")).replaceAll("~",o.config.SLASH_CHAR)).replaceAll(" ",o.config.BACKSLASH_CHAR)},o.prototype.encode=function(e){var t,r,i,n,a,s,l,c;if(e=""+e,t=0,r=0,i=(8*this.inputLength|0)%13|0,n=0,a=0,s=0,l=0,0==(0|this.inputLength))switch(e.replaceAll("-","").toUpperCase()){case"UINT8ARRAY":return Uint8Array.of(this.TILD_CHAR_CODE);case"BASE64":return o.BASE64.fromUint8Array(Uint8Array.of(this.TILD_CHAR_CODE));default:return this.TILD_CHAR_CODE}for(i=0==(0|i)?2*(8*this.inputLength/13|0)|0:(0|i)<7?2*(8*this.inputLength/13|0)+1|0:2*(8*this.inputLength/13|0)+2|0,c=new Uint8Array(0|i);(0|t)<(0|this.inputLength);t=(t+1|0)>>>0)if(n=n<<8|this.getCharCodeAt(0|t),(0|(a=a+8|0))>=13){if(s=n>>(a-13|0)&8191,0==(0|(l=255&this.encodeChar(s/91|0))))return null;if(c[0|r]=255&l,r=(r+1|0)>>>0,0==(0|(l=255&this.encodeChar(s%91|0))))return null;c[0|r]=255&l,r=(r+1|0)>>>0,a=a-13|0}if(0<(0|a)&&(0|a)<7){if(s=n<<(6-a|0)&63,0==(0|(l=255&this.encodeChar(0|s))))return null;c[0|r]=255&l}else if(7<=(0|a)){if(s=n<<(13-a|0)&8191,0==(0|(l=this.encodeChar(s/91|0))))return null;if(c[0|r]=255&l,r=(r+1|0)>>>0,0==(0|(l=255&this.encodeChar(s%91|0))))return null;c[0|r]=255&l}switch(e.replaceAll("-","").toUpperCase()){case"UINT8ARRAY":return c.slice(0,0|c.length);case"BASE64":return o.BASE64.fromUint8Array(c.slice(0,0|c.length));default:return o.UTFX.fromUint8Array(c.slice(0,0|c.length))}},o.prototype.decode=function(e){var t,r,i,n,a,s;if(e=""+e,t=0,r=0,i=0,n=0,a=(this.inputLength/2*13+this.inputLength%2*6)/8|0,s=new Uint8Array(a),0==(this.getCharCodeAt(0)-this.TILD_CHAR_CODE|0)||0==(0|this.inputLength))switch(e.replaceAll("-","").toUpperCase()){case"UTF8":return this.TILD_CHAR_CODE;case"BASE64":return o.BASE64.fromUint8Array(Uint8Array.of(this.TILD_CHAR_CODE));default:return Uint8Array.of(this.TILD_CHAR_CODE)}if((0|this.inputLength)<2)switch(e.replaceAll("-","").toUpperCase()){case"UTF8":case"BASE64":return"";default:return Uint8Array.of()}for(i=0,n=0,r=0,t=0;(t+1|0)<(0|this.inputLength);t=(t+2|0)>>>0)for(i=i<<13|91*this.getDecodedCharCodeAt(0|t)+this.getDecodedCharCodeAt(t+1|0)|0,n=n+13|0;(0|n)>=8;)s[0|r]=i>>n-8&255,r=r+1|0,n=n-8|0;if(1==(this.inputLength%2|0))for(i=i<<6|this.getDecodedCharCodeAt(this.inputLength-1|0),n=n+6|0;(0|n)>=8;)s[0|r]=i>>n-8&255,r=r+1|0,n=n-8|0;switch(e.replaceAll("-","").toUpperCase()){case"UTF8":return o.UTFX.fromUint8Array(s.slice(0,0|s.length));case"JS":return o.JSONX.stringify(s.slice(0,0|s.length));case"BASE64":return o.BASE64.fromUint8Array(s.slice(0,0|s.length));default:return s.slice(0,0|s.length)}},Object.defineProperty((i=function l(){if(!(this instanceof l))return new l;this.CHUNCK_LENGTH_=l.config.CHUNCK_LENGTH,this.BASE64ABCCC_=l.config.BASE64ABCCC,this.B64C_=l.config.B64C,this.B64EC_=l.config.B64EC,this.B64CL_=l.config.B64CL}).prototype,"CHUNCK_LENGTH",{get:function(){return 0|this.CHUNCK_LENGTH_}}),Object.defineProperty(i.prototype,"BASE64ABCCC_E",{get:function(){return function(e){return 255&this.BASE64ABCCC_[0|e]}}}),Object.defineProperty(i.prototype,"B64C_E",{get:function(){return function(e){return 255&this.B64C_[0|e]}}}),Object.defineProperty(i.prototype,"B64EC",{get:function(){return 0|this.B64EC_}}),Object.defineProperty(i.prototype,"B64CL",{get:function(){return 0|this.B64CL_}}),(i.config={}).BASE64ABCCC=Uint8Array.of(65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47),i.config.CHUNCK_LENGTH=256,i.config.B64EC=255,i.config.B64C=Uint8Array.of(255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51),i.config.B64CL=123,i.prototype.fromUint8Array=function(e){var t,r,o=2,i=0,n=0|e.length,a=new Uint8Array(0|4*Math.ceil(n/3));for(o=2,i=0;(0|o)<(0|n);o=(o+3|0)>>>0,i=(i+4|0)>>>0)a.set(Uint8Array.of(255&this.BASE64ABCCC_E(e[o-2|0]>>2),255&this.BASE64ABCCC_E((3&e[o-2|0])<<4|e[o-1|0]>>4),255&this.BASE64ABCCC_E((15&e[o-1|0])<<2|e[o]>>6),255&this.BASE64ABCCC_E(63&e[0|o])),0|i);for((0|o)==(n+1|0)&&(a[0|i]=255&this.BASE64ABCCC_E(e[o-2|0]>>2),a[i+1|0]=255&this.BASE64ABCCC_E((3&e[o-2|0])<<4),a[i+2|0]=61,a[i+3|0]=61,i=(i+4|0)>>>0),(0|o)==(0|n)&&(a[0|i]=255&this.BASE64ABCCC_E(e[o-2|0]>>2),a[i+1|0]=255&this.BASE64ABCCC_E((3&e[o-2|0])<<4|e[o-1|0]>>4),a[i+2|0]=255&this.BASE64ABCCC_E((15&e[o-1|0])<<2),a[i+3|0]=61),t="",r=0|a.length,o=0;(0|o)<(0|r);o=(o+this.CHUNCK_LENGTH|0)>>>0)t=t.concat(String.fromCharCode.apply(null,a.subarray(0|o,Math.min(o+this.CHUNCK_LENGTH|0,0|r))));return t},i._charCodeAt=function(e){return 255&e.charCodeAt(0)},i.prototype._getBase64CodesBufferResults=function(e){return Uint8Array.of(e>>16&255,e>>8&255,255&e)},i.prototype._getBase64CodesBufferResultsBy4=function(e,t,r,o){return Uint8Array.of(e>>16&255,e>>8&255,255&e,t>>16&255,t>>8&255,255&t,r>>16&255,r>>8&255,255&r,o>>16&255,o>>8&255,255&o)},i.prototype._getBase64Code=function(e){if((0|(e=255&(0|e)))>>>0>=(0|this.B64CL)>>>0)throw Error("Unable to parse base64 string.");var t=(0|this.B64C_E(0|e))>>>0;if((0|t)>>>0==(0|this.B64EC)>>>0)throw Error("Unable to parse base64 string.");return 255&(0|t)},i.prototype._getBase64CodesBuffer=function(e){return(this._getBase64Code(e[0])<<18|this._getBase64Code(e[1])<<12|this._getBase64Code(e[2])<<6|this._getBase64Code(e[3])|0)>>>0},i.prototype.toUint8Array=function(e){var t,r,o,n,a,s,l,c;if((e.length%4|0)>0)throw Error("Unable to parse base64 string.");if((0|(t=0|e.indexOf("=")))>-1&&(0|t)<(e.length-2|0))throw Error("Unable to parse base64 string.");for(r=Uint8ClampedArray.from(e.split("").map((function(e){return i._charCodeAt(e)}))),o=e.endsWith("==")?2:e.endsWith("=")?1:0,n=0|e.length,a=new Uint8ClampedArray(n/4*3|0),s=new Uint8ClampedArray(16),l=0,c=0;(l+16|0)<(0|n);l=(l+16|0)>>>0,c=(c+12|0)>>>0)s.set(r.subarray(0|l,l+16|0)),a.set(this._getBase64CodesBufferResultsBy4(this._getBase64CodesBuffer(s.subarray(0,4)),this._getBase64CodesBuffer(s.subarray(4,8)),this._getBase64CodesBuffer(s.subarray(8,12)),this._getBase64CodesBuffer(s.subarray(12,16))),0|c);for(;(0|l)<(0|n);l=(l+4|0)>>>0,c=(c+3|0)>>>0)a.set(this._getBase64CodesBufferResults(this._getBase64CodesBuffer(r.subarray(0|l,l+4|0))),0|c);return a.slice(0,a.length-o|0)},o.BASE64=new i,o.enrichFunctionCalls=[],o.withinEnrich=function(e){function t(e){return"undefined"!=typeof e.slice?e.slice(0,e.length):Uint8Array.from(e)}return e=t(e),Array.from(o.enrichFunctionCalls).forEach((function(r){e=t(r(e))})),e},o.depleteFunctionCalls=[],o.withinDeplete=function(e){function t(e){return"undefined"!=typeof e.slice?e.slice(0,e.length):Uint8Array.from(e)}return e=t(e),Array.from(o.depleteFunctionCalls).reverse().forEach((function(r){e=t(r(e))})),e},o.enrichString=function(e,t){return e.length,Date.now(),e=o.utils.stringify(e),e=o.UTFX.toUint8Array(e),Date.now(),e=o.withinEnrich(e),Date.now(),e=new o(e).encode(),e=o.utils.escape(e),Date.now(),e.length,e},o.stringDeplete=function(e,t){return e.length,Date.now(),e=o.utils.unescape(e),e=new o(e).decode(),Date.now(),e=o.withinDeplete(e),Date.now(),e=o.UTFX.fromUint8Array(e),e=o.utils.parse(e),Date.now(),e.length,e},o.enrichObject=function(e,t){return e=o.JSONX.stringify(e),o.enrichString(e,t)},o.objectDeplete=function(e,t){return e=o.stringDeplete(e,t),o.JSONX.parse(e)},o.enrichBuffer=function(e,t,r){return e.length||e.byteLength,Date.now(),e=o.withinEnrich(e),Date.now(),t&&(e=new o(e).encode(),e=o.utils.escape(e)),Date.now(),e.length,e},o.bufferDeplete=function(e,t,r){return e.length||e.byteLength,Date.now(),t&&(e=o.utils.unescape(e),e=new o(e).decode()),Date.now(),e=o.withinDeplete(e),Date.now(),e.length,e},e.exports=o},598:function(e,t,r){var o,i,n,a,s,l,c,u,d,h,p,f,_,m;o=r(47),i=function(){var e,t=Math.imul,r=2147483648,o=8388608,i=function(e){this.low=0,this.range=r,this.buffer=0,this.help=0,this.bytecount=0,this.stream=e},n=function(e,t){for(;e.range<=o;){if(e.low<255<<23){for(t.writeByte(e.buffer);e.help;e.help--)t.writeByte(255);e.buffer=e.low>>>23&255}else if(e.low&r){for(t.writeByte(e.buffer+1);e.help;e.help--)t.writeByte(0);e.buffer=e.low>>>23&255}else if(e.help++,e.help>4294967295)throw Error("Too many bytes outstanding, file too large!");e.range=e.range<<8>>>0,e.low=(e.low<<8&2147483647)>>>0,e.bytecount++}};return i.prototype.encodeStart=function(e,t){this.low=0,this.range=r,this.buffer=e,this.help=0,this.bytecount=t},i.prototype.encodeFreq=function(e,r,o){var i,a;n(this,this.stream),i=this.range/o>>>0,a=t(i,r),this.low+=a,r+e<o?this.range=t(i,e):this.range-=a},i.prototype.encodeShift=function(e,r,o){var i,a;n(this,this.stream),i=this.range>>>o,a=t(i,r),this.low+=a,r+e>>>o?this.range-=a:this.range=t(i,e)},i.prototype.encodeBit=function(e){this.encodeShift(1,e?1:0,1)},i.prototype.encodeByte=function(e){this.encodeShift(1,e,8)},i.prototype.encodeShort=function(e){this.encodeShift(1,e,16)},i.prototype.encodeFinish=function(){var e,t=this.stream;if(n(this,t),this.bytecount+=5,e=this.low>>>23,(8388607&this.low)>=(16777215&this.bytecount)>>>1&&e++,e>255)for(t.writeByte(this.buffer+1);this.help;this.help--)t.writeByte(0);else for(t.writeByte(this.buffer);this.help;this.help--)t.writeByte(255);return t.writeByte(255&e),t.writeByte(this.bytecount>>>16&255),t.writeByte(this.bytecount>>>8&255),t.writeByte(255&this.bytecount),this.bytecount},i.prototype.decodeStart=function(e){var t=e?0:this.stream.readByte();return"number"!=typeof t||t<0||(this.buffer=this.stream.readByte(),this.low=this.buffer>>>1,this.range=128),t},e=function(e,t){for(;e.range<=o;)e.low=e.low<<8|e.buffer<<7&255,e.buffer=t.readByte(),e.low|=e.buffer>>>1,e.low=e.low>>>0,e.range=e.range<<8>>>0},i.prototype.decodeCulFreq=function(t){e(this,this.stream),this.help=this.range/t>>>0;var r=this.low/this.help>>>0;return r>=t?t-1:r},i.prototype.decodeCulShift=function(t){e(this,this.stream),this.help=this.range>>>t;var r=this.low/this.help>>>0;return r>>>t?(1<<t)-1:r},i.prototype.decodeUpdate=function(e,t,r){var o=this.help*t;this.low-=o,t+e<r?this.range=this.help*e:this.range-=o},i.prototype.decodeBit=function(){var e=this.decodeCulShift(1);return this.decodeUpdate(1,e,2),e},i.prototype.decodeByte=function(){var e=this.decodeCulShift(8);return this.decodeUpdate(1,e,256),e},i.prototype.decodeShort=function(){var e=this.decodeCulShift(16);return this.decodeUpdate(1,e,65536),e},i.prototype.decodeFinish=function(){e(this,this.stream)},i.prototype.writeBit=i.prototype.encodeBit,i.prototype.readBit=i.prototype.decodeBit,i.prototype.writeByte=i.prototype.encodeByte,i.prototype.readByte=i.prototype.decodeByte,i}(),n=function(){var e=function(){};return e.prototype.readByte=function(){var e=[0];return 0===this.read(e,0,1)?(this._eof=!0,-1):e[0]},e.prototype.read=function(e,t,r){for(var o,i=0;i<r;){if(-1===(o=this.readByte())){this._eof=!0;break}e[t+i++]=o}return i},e.prototype.eof=function(){return!!this._eof},e.prototype.seek=function(e){throw Error("Stream is not seekable.")},e.prototype.tell=function(){throw Error("Stream is not seekable.")},e.prototype.writeByte=function(e){var t=[e];this.write(t,0,1)},e.prototype.write=function(e,t,r){var o;for(o=0;o<r;o=o+1|0)this.writeByte(e[t+o]);return r},e.prototype.flush=function(){},e.EOF=-1,e}(),a=function(){var e=function(e){(function(){var t=256;this.readBit=function(){var r,o;if(0==(255&t)){if((r=e.readByte())===n.EOF)return this._eof=!0,r;t=r<<1|1}return o=256&t?1:0,t<<=1,o},this.readByte=function(){return 0==(255&t)?e.readByte():this.readBits(8)},this.seek=function(r){e.seek(r),t=256}}).call(this),function(){var t=1;this.writeBit=function(r){t<<=1,r&&(t|=1),256&t&&(e.writeByte(255&t),t=1)},this.writeByte=function(r){1===t?e.writeByte(r):e.writeBits(8,r)},this.flush=function(){for(;1!==t;)this.writeBit(0);e.flush&&e.flush()}}.call(this)};return e.EOF=n.EOF,(e.prototype=Object.create(n.prototype)).readBits=function(e){var t,r=0;if(e>31)return(r=65536*this.readBits(e-16))+this.readBits(16);for(t=0;t<e;t=t+1|0)r<<=1,this.readBit()>0&&r++;return r},e.prototype.writeBits=function(e,t){var r,o,i;if(e>32)return o=(t-(r=65535&t))/65536,this.writeBits(e-16,o),void this.writeBits(16,r);for(i=e-1;i>=0;i=i-1|0)this.writeBit(t>>>i&1)},e}(),s=function(){var e,t,r,i,a,s,l=Object.create(null),c=n.EOF;return l.coerceInputStream=function(e,t){var r,o;return"readByte"in e?t&&!("read"in e)&&(o=e,(e=new n).readByte=function(){var e=o.readByte();return e===c&&(this._eof=!0),e},"size"in o&&(e.size=o.size),"seek"in o&&(e.seek=function(e){o.seek(e),this._eof=!1}),"tell"in o&&(e.tell=o.tell.bind(o))):(r=e,(e=new n).size=r.length,e.pos=0,e.readByte=function(){return this.pos>=this.size?c:r[this.pos++]},e.read=function(e,t,o){for(var i=0;i<o&&this.pos<r.length;)e[t++]=r[this.pos++],i++;return i},e.seek=function(e){this.pos=e},e.tell=function(){return this.pos},e.eof=function(){return this.pos>=r.length}),e},(e=function(e,t){this.buffer=e,this.resizeOk=t,this.pos=0}).prototype=Object.create(n.prototype),e.prototype.writeByte=function(e){if(this.resizeOk&&this.pos>=this.buffer.length){var t=l.makeU8Buffer(2*this.buffer.length);t.set(this.buffer),this.buffer=t}this.buffer[this.pos++]=e},e.prototype.getBuffer=function(){if(this.pos!==this.buffer.length){if(!this.resizeOk)throw new TypeError("outputsize does not match decoded input");var e=l.makeU8Buffer(this.pos);e.set(this.buffer.subarray(0,this.pos)),this.buffer=e}return this.buffer},l.coerceOutputStream=function(t,r){var o={stream:t,retval:t};if(t){if("object"==typeof t&&"writeByte"in t)return o;o.stream=new e("number"==typeof r?l.makeU8Buffer(r):t,!1)}else o.stream=new e(l.makeU8Buffer(16384),!0);return Object.defineProperty(o,"retval",{get:o.stream.getBuffer.bind(o.stream)}),o},l.compressFileHelper=function(e,t,r){return function(o,i,n){var a,s,c,u;for(o=l.coerceInputStream(o),i=(a=l.coerceOutputStream(i,i)).stream,s=0;s<e.length;s=s+1|0)i.writeByte(e.charCodeAt(s));if(c="size"in o&&o.size>=0?o.size:-1,r){for(u=l.coerceOutputStream([]),l.writeUnsignedNumber(u.stream,c+1),u=u.retval,s=0;s<u.length-1;s=s+1|0)i.writeByte(u[s]);r=u[u.length-1]}else l.writeUnsignedNumber(i,c+1);return t(o,i,c,n,r),a.retval}},l.decompressFileHelper=function(e,t){return function(r,o){var i,n,a;for(r=l.coerceInputStream(r),i=0;i<e.length;i=i+1|0)if(e.charCodeAt(i)!==r.readByte())throw Error("Bad magic");return n=l.readUnsignedNumber(r)-1,o=(a=l.coerceOutputStream(o,n)).stream,t(r,o,n),a.retval}},l.compressWithModel=function(e,t,r){for(var o,i=0;i!==t;){if((o=e.readByte())===c){r.encode(256);break}r.encode(o),i++}},l.decompressWithModel=function(e,t,r){for(var o,i=0;i!==t&&256!==(o=r.decode());)e.writeByte(o),i++},l.writeUnsignedNumber=function(e,t){var r,o=[];do{o.push(127&t),t=Math.floor(t/128)}while(0!==t);for(o[0]|=128,r=o.length-1;r>=0;r=r-1|0)e.writeByte(o[r]);return e},l.readUnsignedNumber=function(e){for(var t,r=0;;){if(128&(t=e.readByte())){r+=127&t;break}r=128*(r+t)}return r},t=function(e){for(var t=0,r=e.length;t<r;t=t+1|0)e[t]=0;return e},r=function(e){return t(Array(e))},i=function(e){return e},void 0!==o&&Array.prototype.some.call(new Uint32Array(128),(function(e){return 0!==e}))&&(i=t),l.makeU8Buffer="undefined"!=typeof Uint8Array?function(e){return i(new Uint8Array(e))}:r,l.makeU16Buffer="undefined"!=typeof Uint16Array?function(e){return i(new Uint16Array(e))}:r,l.makeU32Buffer="undefined"!=typeof Uint32Array?function(e){return i(new Uint32Array(e))}:r,l.makeS32Buffer="undefined"!=typeof Int32Array?function(e){return i(new Int32Array(e))}:r,l.arraycopy=function(e,t){for(var r=0,o=t.length;r<o;r=r+1|0)e[r]=t[r];return e},a=Uint8Array.of(0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8),s=l.fls=function(e){return e>4294967295?32+s(Math.floor(e/4294967296)):0!=(4294901760&e)?0!=(4278190080&e)?24+a[e>>>24&255]:16+a[e>>>16]:0!=(65280&e)?8+a[e>>>8]:a[e]},l.log2c=function(e){return 0===e?-1:s(e-1)},l}(),l=function(){var e=function(e,t,r,o){var i,n,a=s.fls(e-1);for(this.extraStates=+t||0,this.lgDistanceModel=r(1+a+t),this.distanceModel=[],i=2;i<=a;i=i+1|0)n=i-1,this.distanceModel[i]=o(1<<n)};return e.prototype.encode=function(e){var t,r;e<2?this.lgDistanceModel.encode(e+this.extraStates):(t=s.fls(e),this.lgDistanceModel.encode(t+this.extraStates),r=e&(1<<t-1)-1,this.distanceModel[t].encode(r))},e.prototype.decode=function(){var e=this.lgDistanceModel.decode()-this.extraStates;return e<2?e:(1<<e-1)+this.distanceModel[e].decode()},e}(),c=function(){var e,t=function(e,t,r,o){this.up=e,this.down=t,this.symbol=r,this.weight=o};return t.prototype.clone=function(){return new t(this.up,this.down,this.symbol,this.weight)},t.prototype.set=function(e){this.up=e.up,this.down=e.down,this.symbol=e.symbol,this.weight=e.weight},(e=function(e,r,o,i){var n;for((!r||r>e)&&(r=e),(r<<=1)&&r--,this.table=[],n=0;n<=r;n=n+1|0)this.table[n]=new t(0,0,0,0);if(this.map=[],this.size=e)for(n=0;n<e;n=n+1|0)this.map[n]=0;this.esc=this.root=r,o&&(this.readBit=o.readBit.bind(o),this.writeBit=o.writeBit.bind(o)),this.max_weight=i}).factory=function(t,r){return function(o){return new e(o,o,t,r)}},e.prototype.split=function(e){var t,r;return(t=this.esc)?(this.esc--,(r=this.esc)?(this.table[t].down=r,this.table[t].weight=1,this.table[r].up=t,this.esc--):(t=0,r=1),this.table[r].symbol=e,this.table[r].weight=0,this.table[r].down=0,this.map[e]=r,this.table[this.esc].weight=0,this.table[this.esc].down=0,this.table[this.esc].up=t,r):0},e.prototype.leader=function(e){for(var t,r,o=this.table[e].weight,i=e;o===this.table[i+1].weight;)i++;return i===e?e:(r=this.table[e].symbol,t=this.table[i].symbol,this.table[i].symbol=r,this.table[e].symbol=t,this.map[r]=i,this.map[t]=e,i)},e.prototype.slide=function(e){var t=e,r=this.table[t++].clone();if(1&r.weight)for(;r.weight>this.table[t+1].weight;)t++;return this.table[e].set(this.table[t]),this.table[t].set(r),this.table[t].up=this.table[e].up,this.table[e].up=r.up,1&r.weight?(this.table[r.down].up=t,this.table[r.down-1].up=t,this.map[this.table[e].symbol]=e):(this.table[this.table[e].down-1].up=e,this.table[this.table[e].down].up=e,this.map[r.symbol]=t),t},e.prototype.increment=function(e){var t;for(this.table[e].up===e+1?(this.table[e].weight+=2,e++):e=this.leader(e);this.table[e].weight+=2,t=this.table[e].up;){for(;this.table[e].weight>this.table[e+1].weight;)e=this.slide(e);e=1&this.table[e].weight?t:this.table[e].up}this.max_weight&&this.table[this.root].weight>=this.max_weight&&this.scale(1)},e.prototype.scale=function(e){for(var t,r,o=this.esc;++o<=this.root;)for(1&this.table[o].weight?(t=-2&this.table[this.table[o].down].weight)&&(t+=1|this.table[this.table[o].down-1].weight):(t=this.table[o].weight>>e&-2)||(this.map[this.table[o].symbol]=0,this.esc++&&this.esc++),this.table[o].weight=t,r=o;t<this.table[--r].weight;)this.slide(r);this.table[this.esc].down=0},e.prototype.sendid=function(e){for(var t,r=0;e--;)this.map[e]||r++;if(t=this.size-Math.floor((this.root-this.esc)/2)-1)do{this.writeBit(1&r),r>>=1}while(t>>=1)},e.prototype.encode=function(e){var t,r,o,i,n=1;if(e<this.size&&((o=i=this.map[e])||(o=this.esc))){for(;r=this.table[o].up;)n<<=1,n|=1&o,o=r;for(;t=1&n,n>>=1;)this.writeBit(t);i||(this.sendid(e),i=this.split(e)),this.increment(i)}},e.prototype.readid=function(){var e,t,r=0,o=1;if(e=this.size-Math.floor((this.root-this.esc)/2)-1)do{r|=this.readBit()?o:0,o<<=1}while(e>>=1);for(t=0;t<this.size;t++)if(!this.map[t]&&!r--)return t;return 0},e.prototype.decode=function(){for(var e,t,r=this.root;t=this.table[r].down;)r=this.readBit()?t-1:t;if(r===this.esc){if(!this.esc)return 0;e=this.readid(),r=this.split(e)}else e=this.table[r].symbol;return this.increment(r),e},e.MAGIC="huff",e.compressFile=s.compressFileHelper(e.MAGIC,(function(t,r,o,i){var n,l=new a(r),c=256;o<0&&c++,n=new e(257,c,l,8191),s.compressWithModel(t,o,n),l.flush()})),e.decompressFile=s.decompressFileHelper(e.MAGIC,(function(t,r,o){var i,n=new a(t),l=256;o<0&&l++,i=new e(257,l,n,8191),s.decompressWithModel(r,o,i)})),e}(),u=function(){var e=function(e,t){this.bitstream=e,this.bits=s.fls(t-1)};return e.factory=function(t){return function(r){return new e(t,r)}},e.prototype.encode=function(e){var t,r;for(t=this.bits-1;t>=0;t=t-1|0)r=e>>>t&1,this.bitstream.writeBit(r)},e.prototype.decode=function(){var e,t=0;for(e=this.bits-1;e>=0;e=e-1|0)t<<=1,this.bitstream.readBit()&&t++;return t},e.MAGIC="nomo",e.compressFile=s.compressFileHelper(e.MAGIC,(function(t,r,o,i){var n=new a(r),l=new e(n,o<0?257:256);s.compressWithModel(t,o,l),n.flush()})),e.decompressFile=s.decompressFileHelper(e.MAGIC,(function(t,r,o){var i=new a(t),n=new e(i,o<0?257:256);s.decompressWithModel(r,o,n)})),e}(),d=function(){var e=65535,t=4294901760,r=16,o=4294901758,n=function(e,t,o,i){var n;for(this.coder=e,this.numSyms=t+1,this.tree=s.makeU32Buffer(2*this.numSyms),this.increment=+i||256,this.max_prob=+o||65280,n=0;n<t;n=n+1|0)this.tree[this.numSyms+n]=1;this.tree[this.numSyms+n]=0|this.increment<<r,this._sumTree()};return n.factory=function(e,t,r){return function(o){return new n(e,o,t,r)}},n.prototype.clone=function(){var e,t=new n(this.coder,this.size,this.max_prob,this.increment);for(e=1;e<this.tree.length;e=e+1|0)t.tree[e]=0|this.tree[e];return t},n.prototype.encode=function(o){var i,n,a,s=this.numSyms+o,l=this.tree[s],c=t,u=r,d=this.increment<<r;for(0==(l&t)?(this.encode(this.numSyms-1),c=e,d-=1,u=0):o===this.numSyms-1&&(this.tree[1]&e)>>>0==1&&(d=-this.tree[s]),i=0;s>1;)n=s>>>1,1&s&&(i+=this.tree[2*n]),this.tree[s]+=d,s=n;a=this.tree[1],this.tree[1]+=d,l=(l&c)>>>u,i=(i&c)>>>u,a=(a&c)>>>u,this.coder.encodeFreq(l,i,a),(this.tree[1]&t)>>>r>=this.max_prob&&this._rescale()},n.prototype._decode=function(o){var i,n,a,s,l,c,u,d=t,h=r,p=this.increment<<r;for(o&&(d=e,p-=1,h=0),i=(this.tree[1]&d)>>>h,n=this.coder.decodeCulFreq(i),a=1,s=0;a<this.numSyms;)this.tree[a]+=p,l=(this.tree[a<<1]&d)>>>h,a*=2,n-s>=l&&(s+=l,a=a+1|0);if(c=a-this.numSyms,u=(this.tree[a]&d)>>>h,this.tree[a]+=p,this.coder.decodeUpdate(u,s,i),c===this.numSyms-1&&(this.tree[1]&e)>>>0==1)for(p=-this.tree[a];a>=1;)this.tree[a]+=p,a>>>=1;return(this.tree[1]&t)>>>r>=this.max_prob&&this._rescale(),c},n.prototype.decode=function(){var e=this._decode(!1);return e===this.numSyms-1&&(e=this._decode(!0)),e},n.prototype._rescale=function(){var t,r,i=!0;for(t=0;t<this.numSyms-1;t=t+1|0)0==((r=this.tree[this.numSyms+t])&e)?(0==(r=(r&o)>>>1)&&(r=1,i=!1),this.tree[this.numSyms+t]=r):i=!1;r=((r=this.tree[this.numSyms+t])&o)>>>1,i?r=0:0===r&&(r=65536),this.tree[this.numSyms+t]=r,this._sumTree()},n.prototype._sumTree=function(){var e;for(e=this.numSyms-1;e>0;e=e-1|0)this.tree[e]=this.tree[e<<1]+this.tree[1+(e<<1)]},n.MAGIC="fenw",n.compressFile=s.compressFileHelper(n.MAGIC,(function(e,t,r,o,a){var l,c=new i(t);c.encodeStart(a,1),l=new n(c,r<0?257:256),s.compressWithModel(e,r,l),c.encodeFinish()}),!0),n.decompressFile=s.decompressFileHelper(n.MAGIC,(function(e,t,r){var o,a=new i(e);a.decodeStart(!0),o=new n(a,r<0?257:256),s.decompressWithModel(t,r,o),a.decodeFinish()})),n}(),h=function(){var e=function(e,t,r){var o;for(this.literalModel=[],o=0;o<t;o=o+1|0)this.literalModel[o]=e(r)};return e.prototype.encode=function(e,t){this.literalModel[t].encode(e)},e.prototype.decode=function(e){return this.literalModel[e].decode()},e.MAGIC="ctx1",e.compressFile=s.compressFileHelper(e.MAGIC,(function(t,r,o,i){var n,l,u,d,h=new a(r),p=256;o<0&&p++,n=c.factory(h,8191),l=new e(n,256,p),u=32,d={encode:function(e){l.encode(e,u),u=e}},s.compressWithModel(t,o,d),h.flush()})),e.decompressFile=s.decompressFileHelper(e.MAGIC,(function(t,r,o){var i,n,l,u,d=new a(t),h=256;o<0&&h++,i=c.factory(d,8191),n=new e(i,256,h),l=32,u={decode:function(){var e=n.decode(l);return l=e,e}},s.decompressWithModel(r,o,u)})),e}(),p=function(){var e,t=Object.create(null);return t.MAGIC="lzjR",e=1023,t.compressFile=s.compressFileHelper(t.MAGIC,(function(t,r,o,a,c){var p,f,_,m,g,y,b,w,E,x,v,k,C,S,A,B,T,L,I,O,M,N,R,z,U,D,P,j,H,F,W,G,K,$=1024,q=1;for("number"==typeof a&&($*=2,q=1<<Math.floor((a=Math.max(1,Math.min(9,a))-1)/2),1&a&&(q=Math.round(1.5*q)),a>=2&&a<=4&&q++),(w=new i(r)).encodeStart(c,1),y=s.makeU16Buffer($*q),E=s.makeU8Buffer(1024),x=0,v=function(e){return E[x++]=e,x>=E.length&&(x=0),e},k=[],C=function(){return k.length?k.pop():t.readByte()},S=function(e){k.push(e)},A=[],B=u.factory(w),T=d.factory(w,65280,256),L=new h(T,256,1+(o<0?257:256)),I=function(e){return e<=32?T(e):B(e)},O=new l(64,0,T,I),M=new l(1024,1,T,I),N=32,R=0;z=x,(U=C())!==n.EOF;){if((D=C())===n.EOF){L.encode(v(U),N);break}if((P=C())!==n.EOF){for(m=(U<<16)+(D<<8)+P,m^=m>>9,m+=m>>5,g=((m^=U)&$-1)*q,A.length=0,b=0;b<q;b=b+1|0)_=x-y[g+b]&e,p=E.length+x-_,j=E[p&e],H=E[p+1&e],F=E[p+2&e],1==_?(H=U,F=D):2==_&&(F=U),U===j&&D===H&&P===F&&A.push(_);for(b=q-1;b>0;b--)y[g+b]=y[g+b-1];if(y[g]=x,0===A.length)L.encode(v(U),N),S(P),S(D),N=U;else{for(L.encode(256,N),v(U),v(D),v(P),N=P,W=C(),G=A[0],K=E.length+x,f=3;f<66&&W!==n.EOF;f++,K++){for(b=0;b<A.length;)W!==E[K-A[b]&e]?(G=A[b],A.splice(b,1)):b=b+1|0;if(0===A.length)break;v(W),N=W,W=C()}0!==A.length&&(G=A[0]),S(W),O.encode(f-3),(_=z-G&e)===R?M.encode(-1):(M.encode(_),R=_)}}else L.encode(v(U),N),S(D),N=U}o<0&&L.encode(257,N),w.encodeFinish()}),!0),t.decompressFile=s.decompressFileHelper(t.MAGIC,(function(e,t,r){var o,n,a,c,p,f,_,m,g,y,b,w=s.makeU8Buffer(1024),E=0,x=new i(e);for(x.decodeStart(!0),c=u.factory(x),p=d.factory(x,65280,256),f=new h(p,256,1+(r<0?257:256)),_=function(e){return e<=32?p(e):c(e)},m=new l(64,0,p,_),g=new l(1024,1,p,_),y=32,b=0;0!==r&&257!==(a=f.decode(y));)if(256===a)for(n=m.decode()+3,(o=g.decode())<0?o=b:b=o,r>=0&&(r-=n);--n>=0;)a=y=w[E++]=w[o++],t.writeByte(a),E>=w.length&&(E=0),o>=w.length&&(o=0);else t.writeByte(a),w[E++]=y=a,E>=w.length&&(E=0),r>=0&&r--;x.decodeFinish()})),t}(),_=[(f=function(){var e,t,r,o,p=Object.create(null);return p.MAGIC="lzp3",t=(e=1<<20)-1,r=65535,(o=function(t){this.buffer=s.makeU8Buffer(Math.min(t+4,e)),this.pos=0,this.ctxt4=s.makeU32Buffer(65536),this.ctxt3=s.makeU32Buffer(4096),this.ctxt2=s.makeU32Buffer(65536),this.put(99),this.put(83),this.put(97),this.put(32)}).prototype.put=function(t){return this.buffer[this.pos++]=t,this.pos>=e&&(this.pos=0),t},o.prototype.get=function(e){return this.buffer[1048575&e]},o.prototype.context=function(t,r){var o,i=0;for(t=t-r&1048575,o=0;o<r;o=o+1|0)i=i<<8|this.buffer[t++],t>=e&&(t=0);return i},o.prototype.getIndex=function(e,t){var o=this.context(e,4),i=65535&(o>>>15^o),n=4095&(o>>>11^o),a=o&r,s=0;return 0===t&&(0!==(s=this.ctxt4[i])&&o!==this.context(s-1,4)&&(s=0),0===s&&(0!==(s=this.ctxt3[n])&&(16777215&o)!==this.context(s-1,3)&&(s=0),0===s&&0!==(s=this.ctxt2[a])&&(o&&r)!==this.context(s-1,2)&&(s=0))),t&&t--,this.ctxt4[i]=this.ctxt3[n]=this.ctxt2[a]=1+(e|t<<20),s},p.compressFile=s.compressFileHelper(p.MAGIC,(function(r,a,s,c){var p,f,_,m,g,y,b,w,E,x,v,k,C,S,A,B,T=new o(s>=0?s:e);for((m=new i(a)).encodeStart(0,0),p=d.factory(m,65280,256),g=u.factory(m),f=function(e){return e>256?g(e):p(e)},_=function(){m.encodeFinish()},y=new h(p,256,s<0?257:256),b=[],w=0;w<16;w=w+1|0)b[w]=new l(t+1,1,p,f);for(E=0,v=0;E!==s;){if(k=r.readByte(),x=T.pos,0!==(C=T.getIndex(x,0))){for(S=1+(--C>>>20),A=0;T.get(C+A)===k&&A<t;)A++,T.put(k),k=r.readByte();S===A?b[15&v].encode(-1):b[15&v].encode(A),T.getIndex(x,A),E+=A,v<<=1,A>0&&(v|=1)}if(B=T.get(T.pos-1),k===n.EOF){s<0&&y.encode(256,B);break}y.encode(k,B),T.put(k),E++}_&&_()})),p.decompressFile=s.decompressFileHelper(p.MAGIC,(function(n,s,p){var f,_,m,g,y,b,w,E,x,v,k,C,S,A,B,T,L,I=!!(128&n.readByte()),O=new o(p>=0?p:e);for(I?(g=new a(n),f=c.factory(g,r),_=u.factory(g)):((y=new i(n)).decodeStart(!0),f=d.factory(y,65280,256),b=u.factory(y),_=function(e){return e>256?b(e):f(e)},m=function(){y.decodeFinish()}),w=new h(f,256,p<0?257:256),E=[],x=0;x<16;x=x+1|0)E[x]=new l(t+1,1,f,_);for(C=0,S=0;C!==p;){if(v=O.pos,0!==(A=O.getIndex(v,0))){for(B=1+(--A>>>20),(T=E[15&S].decode())<0&&(T=B),x=0;x<T;x=x+1|0)k=O.get(A+x),s.writeByte(O.put(k));O.getIndex(v,T),C+=T,S<<=1,T>0&&(S|=1)}if(C===p)break;if(L=O.get(O.pos-1),256===(k=w.decode(L)))break;s.writeByte(O.put(k)),C++}m&&m()})),p}()).compressFile,p.compressFile],m=[f.decompressFile,p.decompressFile],e.exports={UraniumJSEnrichFunctionCalls:_,UraniumJSDepleteFunctionCalls:m}},610:function(e,t,r){var o,i,n,a;e.exports=(o={characters:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,r,i,n,a,s,l,c="",u=0;for(e=o.utf8Encode(e);u<e.length;)n=(t=e.charCodeAt(u++))>>2,a=(3&t)<<4|(r=e.charCodeAt(u++))>>4,s=(15&r)<<2|(i=e.charCodeAt(u++))>>6,l=63&i,isNaN(r)?s=l=64:isNaN(i)&&(l=64),c=c+this.characters.charAt(n)+this.characters.charAt(a)+this.characters.charAt(s)+this.characters.charAt(l);return c},utf8Encode:function(e){var t,r,o;for(e=e.replace(/\r\n/g,"\n"),t="",r=0;r<e.length;r++)(o=e.charCodeAt(r))<128?t+=String.fromCharCode(o):o>127&&o<2048?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128));return t}},i=function(e){return"string"==typeof e?"string":"undefined"!=typeof SVGElement&&e instanceof SVGElement?"element":void 0},n=function(e){var t=(new XMLSerializer).serializeToString(e);return a(t)},a=function(e){return"data:image/svg+xml;base64,"+o.encode(e)},function(e){switch(i(e)){case"string":return a(e);case"element":return n(e);default:return e}})},635:function(e,t,r){(function(t,r){var o;"undefined"!=typeof self&&self,o=function(){return function(){function e(t){var r,n=i[t];return n!==undefined?n.exports:(r=i[t]={exports:{}},o[t](r,r.exports,e),r.exports)}var o={345:function(e,t,r){function o(e,t){"string"==typeof e?this.script=e||null:(this.script=null,t=e),this.workers=[],this.tasks=[],t=t||{},this.forkArgs=Object.freeze(t.forkArgs||[]),this.forkOpts=Object.freeze(t.forkOpts||{}),this.debugPortStart=t.debugPortStart||43210,this.nodeWorker=t.nodeWorker,this.workerType=t.workerType||t.nodeWorker||"auto",this.maxQueueSize=t.maxQueueSize||Infinity,this.onCreateWorker=t.onCreateWorker||function(){return null},this.onTerminateWorker=t.onTerminateWorker||function(){return null},t&&"maxWorkers"in t?(function(e){if(!i(e)||!n(e)||e<1)throw new TypeError("Option maxWorkers must be an integer number >= 1")}(t.maxWorkers),this.maxWorkers=t.maxWorkers):this.maxWorkers=Math.max((l.cpus||4)-1,1),t&&"minWorkers"in t&&("max"===t.minWorkers?this.minWorkers=this.maxWorkers:(function(e){if(!i(e)||!n(e)||e<0)throw new TypeError("Option minWorkers must be an integer number >= 0")}(t.minWorkers),this.minWorkers=t.minWorkers,this.maxWorkers=Math.max(this.minWorkers,this.maxWorkers)),this._ensureMinWorkers()),this._boundNext=this._next.bind(this),"thread"===this.workerType&&s.ensureWorkerThreads()}function i(e){return"number"==typeof e}function n(e){return Math.round(e)==e}var a=r(219),s=r(751),l=r(828),c=new(r(833));o.prototype.exec=function(e,t,r){var o,i,n,s;if(t&&!Array.isArray(t))throw new TypeError('Array expected as argument "params"');if("string"==typeof e){if(o=a.defer(),this.tasks.length>=this.maxQueueSize)throw Error("Max queue size of "+this.maxQueueSize+" reached");return i=this.tasks,n={method:e,params:t,resolver:o,timeout:null,options:r},i.push(n),s=o.promise.timeout,o.promise.timeout=function(e){return-1!==i.indexOf(n)?(n.timeout=e,o.promise):s.call(o.promise,e)},this._next(),o.promise}if("function"==typeof e)return this.exec("run",[e+"",t]);throw new TypeError('Function or string expected as argument "method"')},o.prototype.proxy=function(){if(arguments.length>0)throw Error("No arguments expected");var e=this;return this.exec("methods").then((function(t){var r={};return t.forEach((function(t){r[t]=function(){return e.exec(t,Array.prototype.slice.call(arguments))}})),r}))},o.prototype._next=function(){var e,t,r,o;this.tasks.length>0&&(e=this._getWorker())&&(t=this,(r=this.tasks.shift()).resolver.promise.pending?(o=e.exec(r.method,r.params,r.resolver,r.options).then(t._boundNext)["catch"]((function(){if(e.terminated)return t._removeWorker(e)})).then((function(){t._next()})),"number"==typeof r.timeout&&o.timeout(r.timeout)):t._next())},o.prototype._getWorker=function(){var e,t,r=this.workers;for(e=0;e<r.length;e++)if(!1===(t=r[e]).busy())return t;return r.length<this.maxWorkers?(t=this._createWorkerHandler(),r.push(t),t):null},o.prototype._removeWorker=function(e){var t=this;return c.releasePort(e.debugPort),this._removeWorkerFromList(e),this._ensureMinWorkers(),new a((function(r,o){e.terminate(!1,(function(i){t.onTerminateWorker({forkArgs:e.forkArgs,forkOpts:e.forkOpts,script:e.script}),i?o(i):r(e)}))}))},o.prototype._removeWorkerFromList=function(e){var t=this.workers.indexOf(e);-1!==t&&this.workers.splice(t,1)},o.prototype.terminate=function(e,t){var r,o,i=this;return this.tasks.forEach((function(e){e.resolver.reject(Error("Pool terminated"))})),this.tasks.length=0,r=function(e){this._removeWorkerFromList(e)}.bind(this),o=[],this.workers.slice().forEach((function(n){var a=n.terminateAndNotify(e,t).then(r).always((function(){i.onTerminateWorker({forkArgs:n.forkArgs,forkOpts:n.forkOpts,script:n.script})}));o.push(a)})),a.all(o)},o.prototype.stats=function(){var e=this.workers.length,t=this.workers.filter((function(e){return e.busy()})).length;return{totalWorkers:e,busyWorkers:t,idleWorkers:e-t,pendingTasks:this.tasks.length,activeTasks:t}},o.prototype._ensureMinWorkers=function(){if(this.minWorkers)for(var e=this.workers.length;e<this.minWorkers;e++)this.workers.push(this._createWorkerHandler())},o.prototype._createWorkerHandler=function(){var e=this.onCreateWorker({forkArgs:this.forkArgs,forkOpts:this.forkOpts,script:this.script})||{};return new s(e.script||this.script,{forkArgs:e.forkArgs||this.forkArgs,forkOpts:e.forkOpts||this.forkOpts,debugPort:c.nextAvailableStartingAt(this.debugPortStart),workerType:this.workerType})},e.exports=o},219:function(e){function t(e,n){var a,s,l,c,u,d=this;if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if("function"!=typeof e)throw new SyntaxError("Function parameter handler(resolve, reject) missing");a=[],s=[],this.resolved=!1,this.rejected=!1,this.pending=!0,l=function(e,t){a.push(e),s.push(t)},this.then=function(e,o){return new t((function(t,i){var n=e?r(e,t,i):t,a=o?r(o,t,i):i;l(n,a)}),d)},c=function(e){return d.resolved=!0,d.rejected=!1,d.pending=!1,a.forEach((function(t){t(e)})),l=function(t,r){t(e)},c=u=function(){},d},u=function(e){return d.resolved=!1,d.rejected=!0,d.pending=!1,s.forEach((function(t){t(e)})),l=function(t,r){r(e)},c=u=function(){},d},this.cancel=function(){return n?n.cancel():u(new o),d},this.timeout=function(e){if(n)n.timeout(e);else{var t=setTimeout((function(){u(new i("Promise timed out after "+e+" ms"))}),e);d.always((function(){clearTimeout(t)}))}return d},e((function(e){c(e)}),(function(e){u(e)}))}function r(e,t,r){return function(o){try{var i=e(o);i&&"function"==typeof i.then&&"function"==typeof i["catch"]?i.then(t,r):t(i)}catch(n){r(n)}}}function o(e){this.message=e||"promise cancelled",this.stack=Error().stack}function i(e){this.message=e||"timeout exceeded",this.stack=Error().stack}t.prototype["catch"]=function(e){return this.then(null,e)},t.prototype.always=function(e){return this.then(e,e)},t.all=function(e){return new t((function(t,r){var o=e.length,i=[];o?e.forEach((function(e,n){e.then((function(e){i[n]=e,0==--o&&t(i)}),(function(e){o=0,r(e)}))})):t(i)}))},t.defer=function(){var e={};return e.promise=new t((function(t,r){e.resolve=t,e.reject=r})),e},o.prototype=Error(),o.prototype.constructor=Error,o.prototype.name="CancellationError",t.CancellationError=o,i.prototype=Error(),i.prototype.constructor=Error,i.prototype.name="TimeoutError",t.TimeoutError=i,e.exports=t},751:function(e,o,i){function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(){var e=c();if(!e)throw Error("WorkerPool: workerType = 'thread' is not supported, Node >= 11.7.0 required");return e}function l(){if("function"!=typeof Worker&&("object"!==("undefined"==typeof Worker?"undefined":a(Worker))||"function"!=typeof Worker.prototype.constructor))throw Error("WorkerPool: Web Workers not supported")}function c(){try{return g("worker_threads")}catch(e){if("object"===a(e)&&null!==e&&"MODULE_NOT_FOUND"===e.code)return null;throw e}}function u(e,t){var r=new t(e);return r.isBrowserWorker=!0,r.on=function(e,t){this.addEventListener(e,(function(e){t(e.data)}))},r.send=function(e){this.postMessage(e)},r}function d(e,t){var r=new t.Worker(e,{stdout:!1,stderr:!1});return r.isWorkerThread=!0,r.send=function(e){this.postMessage(e)},r.kill=function(){return this.terminate(),!0},r.disconnect=function(){this.terminate()},r}function h(e,t,r){var o=r.fork(e,t.forkArgs,t.forkOpts);return o.isChildProcess=!0,o}function p(e){var t,o,i,n;return e=e||{},o=-1!==(t=r.execArgv.join(" ")).indexOf("--inspect"),i=-1!==t.indexOf("--debug-brk"),n=[],o&&(n.push("--inspect="+e.debugPort),i&&n.push("--debug-brk")),r.execArgv.forEach((function(e){e.indexOf("--max-old-space-size")>-1&&n.push(e)})),Object.assign({},e,{forkArgs:e.forkArgs,forkOpts:Object.assign({},e.forkOpts,{execArgv:(e.forkOpts&&e.forkOpts.execArgv||[]).concat(n)})})}function f(e,r){function o(e){for(var t in f.terminated=!0,f.processing)f.processing[t]!==undefined&&f.processing[t].resolver.reject(e);f.processing=Object.create(null)}var a,f=this,_=r||{};this.script=e||function(){if("browser"===m.platform){if("undefined"==typeof Blob)throw Error("Blob not supported by the browser");if(!window.URL||"function"!=typeof window.URL.createObjectURL)throw Error("URL.createObjectURL not supported by the browser");var e=new Blob([i(670)],{type:"text/javascript"});return window.URL.createObjectURL(e)}return t+"/worker.js"}(),this.worker=function(e,t){if("web"===t.workerType)return l(),u(e,Worker);if("thread"===t.workerType)return d(e,r=s());if("process"!==t.workerType&&t.workerType){if("browser"===m.platform)return l(),u(e,Worker);var r=c();return r?d(e,r):h(e,p(t),g("child_process"))}return h(e,p(t),g("child_process"))}(this.script,_),this.debugPort=_.debugPort,this.forkOpts=_.forkOpts,this.forkArgs=_.forkArgs,e||(this.worker.ready=!0),this.requestQueue=[],this.worker.on("message",(function(e){var t,r;f.terminated||("string"==typeof e&&"ready"===e?(f.worker.ready=!0,function(){var e,t,r=function(e,t){var r,o,i,a,s,l="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!l){if(Array.isArray(e)||(l=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)))return l&&(e=l),r=0,{s:o=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return i=!0,a=!1,{s:function(){l=l.call(e)},n:function(){var e=l.next();return i=e.done,e},e:function(e){a=!0,s=e},f:function(){try{i||null==l["return"]||l["return"]()}finally{if(a)throw s}}}}(f.requestQueue.splice(0));try{for(r.s();!(e=r.n()).done;)t=e.value,f.worker.send(t)}catch(o){r.e(o)}finally{r.f()}}()):(t=e.id,(r=f.processing[t])!==undefined&&(e.isEvent?r.options&&"function"==typeof r.options.on&&r.options.on(e.payload):(delete f.processing[t],!0===f.terminating&&f.terminate(),e.error?r.resolver.reject(function(e){var t,r=Error(""),o=Object.keys(e);for(t=0;t<o.length;t++)r[o[t]]=e[o[t]];return r}(e.error)):r.resolver.resolve(e.result)))))})),a=this.worker,this.worker.on("error",o),this.worker.on("exit",(function(e,t){var r="Workerpool Worker terminated Unexpectedly\n";r+="    exitCode: `"+e+"`\n",r+="    signalCode: `"+t+"`\n",r+="    workerpool.script: `"+f.script+"`\n",r+="    spawnArgs: `"+a.spawnargs+"`\n",r+="    spawnfile: `"+a.spawnfile+"`\n",r+="    stdout: `"+a.stdout+"`\n",r+="    stderr: `"+a.stderr+"`\n",o(Error(r))})),this.processing=Object.create(null),this.terminating=!1,this.terminated=!1,this.terminationHandler=null,this.lastId=0}var _=i(219),m=i(828),g=i(397),y="__workerpool-terminate__";f.prototype.methods=function(){return this.exec("methods")},f.prototype.exec=function(e,t,r,o){var i,n,a;return r||(r=_.defer()),i=++this.lastId,this.processing[i]={id:i,resolver:r,options:o},n={id:i,method:e,params:t},this.terminated?r.reject(Error("Worker is terminated")):this.worker.ready?this.worker.send(n):this.requestQueue.push(n),a=this,r.promise["catch"]((function(e){if(e instanceof _.CancellationError||e instanceof _.TimeoutError)return delete a.processing[i],a.terminateAndNotify(!0).then((function(){throw e}),(function(e){throw e}));throw e}))},f.prototype.busy=function(){return Object.keys(this.processing).length>0},f.prototype.terminate=function(e,t){var r,o,i,n=this;if(e){for(r in this.processing)this.processing[r]!==undefined&&this.processing[r].resolver.reject(Error("Worker terminated"));this.processing=Object.create(null)}if("function"==typeof t&&(this.terminationHandler=t),this.busy())this.terminating=!0;else{if(o=function(e){if(n.terminated=!0,null!=n.worker&&n.worker.removeAllListeners&&n.worker.removeAllListeners("message"),n.worker=null,n.terminating=!1,n.terminationHandler)n.terminationHandler(e,n);else if(e)throw e},this.worker){if("function"==typeof this.worker.kill)return this.worker.killed?void o(Error("worker already killed!")):void(this.worker.isChildProcess?(i=setTimeout((function(){n.worker&&n.worker.kill()}),1e3),this.worker.once("exit",(function(){clearTimeout(i),n.worker&&(n.worker.killed=!0),o()})),this.worker.ready?this.worker.send(y):this.requestQueue.push(y)):(this.worker.kill(),this.worker.killed=!0,o()));if("function"!=typeof this.worker.terminate)throw Error("Failed to terminate worker");this.worker.terminate(),this.worker.killed=!0}o()}},f.prototype.terminateAndNotify=function(e,t){var r=_.defer();return t&&(r.promise.timeout=t),this.terminate(e,(function(e,t){e?r.reject(e):r.resolve(t)})),r.promise},e.exports=f,e.exports._tryRequireWorkerThreads=c,e.exports._setupProcessWorker=h,e.exports._setupBrowserWorker=u,e.exports._setupWorkerThreadWorker=d,e.exports.ensureWorkerThreads=s},833:function(e){function t(){this.ports=Object.create(null),this.length=0}e.exports=t,t.prototype.nextAvailableStartingAt=function(e){for(;!0===this.ports[e];)e++;if(e>=65535)throw Error("WorkerPool debug port limit reached: "+e+">= 65535");return this.ports[e]=!0,this.length++,e},t.prototype.releasePort=function(e){delete this.ports[e],this.length--}},828:function(e,t,o){var i,n=o(397),a=function(e){return void 0!==e&&null!=e.versions&&null!=e.versions.node};e.exports.isNode=a,e.exports.platform=void 0!==r&&a(r)?"node":"browser",i=function(e){try{return n("worker_threads")}catch(t){return null}}(),e.exports.isMainThread="node"===e.exports.platform?(!i||i.isMainThread)&&!r.connected:"undefined"!=typeof Window,e.exports.cpus="browser"===e.exports.platform?self.navigator.hardwareConcurrency:n("os").cpus().length},670:function(e){e.exports='!function(){var __webpack_exports__={};!function(){var exports=__webpack_exports__,__webpack_unused_export__;function _typeof(r){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}var requireFoolWebpack=eval("typeof require !== \'undefined\' ? require : function (module) { throw new Error(\'Module \\" + module + \\" not found.\') }"),TERMINATE_METHOD_ID="__workerpool-terminate__",worker={exit:function(){}},WorkerThreads,parentPort;if("undefined"!=typeof self&&"function"==typeof postMessage&&"function"==typeof addEventListener)worker.on=function(r,e){addEventListener(r,function(r){e(r.data)})},worker.send=function(r){postMessage(r)};else{if("undefined"==typeof process)throw new Error("Script must be executed as a worker");try{WorkerThreads=requireFoolWebpack("worker_threads")}catch(error){if("object"!==_typeof(error)||null===error||"MODULE_NOT_FOUND"!==error.code)throw error}WorkerThreads&&null!==WorkerThreads.parentPort?(parentPort=WorkerThreads.parentPort,worker.send=parentPort.postMessage.bind(parentPort),worker.on=parentPort.on.bind(parentPort)):(worker.on=process.on.bind(process),worker.send=process.send.bind(process),worker.on("disconnect",function(){process.exit(1)}),worker.exit=process.exit.bind(process))}function convertError(o){return Object.getOwnPropertyNames(o).reduce(function(r,e){return Object.defineProperty(r,e,{value:o[e],enumerable:!0})},{})}function isPromise(r){return r&&"function"==typeof r.then&&"function"==typeof r.catch}worker.methods={},worker.methods.run=function(r,e){r=new Function("return ("+r+").apply(null, arguments);");return r.apply(r,e)},worker.methods.methods=function(){return Object.keys(worker.methods)};var currentRequestId=null;worker.on("message",function(e){if(e===TERMINATE_METHOD_ID)return worker.exit(0);try{var r=worker.methods[e.method];if(!r)throw new Error(\'Unknown method "\'+e.method+\'"\');currentRequestId=e.id;var o=r.apply(r,e.params);isPromise(o)?o.then(function(r){worker.send({id:e.id,result:r,error:null}),currentRequestId=null}).catch(function(r){worker.send({id:e.id,result:null,error:convertError(r)}),currentRequestId=null}):(worker.send({id:e.id,result:o,error:null}),currentRequestId=null)}catch(r){worker.send({id:e.id,result:null,error:convertError(r)})}}),worker.register=function(r){if(r)for(var e in r)r.hasOwnProperty(e)&&(worker.methods[e]=r[e]);worker.send("ready")},worker.emit=function(r){currentRequestId&&worker.send({id:currentRequestId,isEvent:!0,payload:r})},__webpack_unused_export__=worker.register,worker.emit}()}();'},397:function(e){var t=eval("typeof require !== 'undefined' ? require : function (module) { throw new Error('Module \" + module + \" not found.') }");e.exports=t},744:function(e,t){function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e){return Object.getOwnPropertyNames(e).reduce((function(t,r){return Object.defineProperty(t,r,{value:e[r],enumerable:!0})}),{})}function n(e){return e&&"function"==typeof e.then&&"function"==typeof e["catch"]}var a,s,l,c=eval("typeof require !== 'undefined' ? require : function (module) { throw new Error('Module \" + module + \" not found.') }"),u="__workerpool-terminate__",d={exit:function(){}};if("undefined"!=typeof self&&"function"==typeof postMessage&&"function"==typeof addEventListener)d.on=function(e,t){addEventListener(e,(function(e){t(e.data)}))},d.send=function(e){postMessage(e)};else{if(void 0===r)throw Error("Script must be executed as a worker");try{a=c("worker_threads")}catch(h){if("object"!==o(h)||null===h||"MODULE_NOT_FOUND"!==h.code)throw h}a&&null!==a.parentPort?(s=a.parentPort,d.send=s.postMessage.bind(s),d.on=s.on.bind(s)):(d.on=r.on.bind(r),d.send=r.send.bind(r),d.on("disconnect",(function(){r.exit(1)})),d.exit=r.exit.bind(r))}d.methods={},d.methods.run=function(e,t){var r=Function("return ("+e+").apply(null, arguments);");return r.apply(r,t)},d.methods.methods=function(){return Object.keys(d.methods)},l=null,d.on("message",(function(e){var t,r;if(e===u)return d.exit(0);try{if(!(t=d.methods[e.method]))throw Error('Unknown method "'+e.method+'"');l=e.id,n(r=t.apply(t,e.params))?r.then((function(t){d.send({id:e.id,result:t,error:null}),l=null}))["catch"]((function(t){d.send({id:e.id,result:null,error:i(t)}),l=null})):(d.send({id:e.id,result:r,error:null}),l=null)}catch(o){d.send({id:e.id,result:null,error:i(o)})}})),d.register=function(e){if(e)for(var t in e)e.hasOwnProperty(t)&&(d.methods[t]=e[t]);d.send("ready")},d.emit=function(e){l&&d.send({id:l,isEvent:!0,payload:e})},t.add=d.register,t.emit=d.emit}},i={},n={};return function(){var t=n,r=e(828);t.pool=function(t,r){return new(e(345))(t,r)},t.worker=function(t){e(744).add(t)},t.workerEmit=function(t){e(744).emit(t)},t.Promise=e(219),t.platform=r.platform,t.isMainThread=r.isMainThread,t.cpus=r.cpus}(),n}()},e.exports=o()})("/",r(47))},637:function(e,t,r){e.exports=function(){}},703:function(e,t,r){const o={_create_state(){const e=window.requestAnimationFrame||window.oRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,t=window.cancelAnimationFrame||window.oCancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame;return Object.assign({},{raf:e,caf:t,caf_id:{},lasts_raf_time:{},previous_cpaf_fps:{},cpaf_frames:{},is_mobile_or_tablet:!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(navigator.userAgent||navigator.vendor||window.opera)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent||navigator.vendor||window.opera.substr(0,4)))})},init(){let e,t=parseInt(Date.now()).toString(16),r=this._create_state;window._sraf_state=window._sraf_state||{},window._sraf_state[t]=r();let o=function(){};return{start_timer:function(){clearInterval(e),e&&clearInterval(e),window._sraf_state[t]=r(),e=setInterval((function(){window._sraf_state[t].second_previous_cpaf_fps=parseInt(window._sraf_state[t].previous_cpaf_fps),window._sraf_state[t].previous_cpaf_fps=2*window._sraf_state[t].cpaf_frames|0,window._sraf_state[t].cpaf_frames=0,o((window._sraf_state[t].second_previous_cpaf_fps+window._sraf_state[t].previous_cpaf_fps|0)/2|0)}),500)},set_notify_fps_callback(e=function(){}){o=e},destroy(r=function(){}){null!==window._sraf_state[t]?(clearInterval(e),window._sraf_state[t]={},r()):r("ok")},run_frame:(e,r,o,i,n)=>(r=r||!1,o=o||!1,i=i||Date.now(),n="_"+n,new Promise((function(a,s){function l(){window._sraf_state[t].lasts_raf_time[n]=0|i,e().then((function(){window._sraf_state[t].cpaf_frames++,c===window._sraf_state[t].caf_id[n]&&(window._sraf_state[t].caf_id=null),a()}))["catch"](s)}var c;if(i<(0|window._sraf_state[t].lasts_raf_time[n]))a();else{let e=Math.max(window._sraf_state[t].second_previous_cpaf_fps+window._sraf_state[t].previous_cpaf_fps|0,window._sraf_state[t].is_mobile_or_tablet?20:40),i=!0,u=Date.now()-window._sraf_state[t].lasts_raf_time[n];u>1e3/e&&(i=!1),o||!i||null!==window._sraf_state[t].caf_id[n]&&u>1e3/(1.5*e)?(null!==window._sraf_state[t].caf_id[n]&&(window._sraf_state[t].caf.call(window,window._sraf_state[t].caf_id[n]),window._sraf_state[t].caf_id[n]=null),c=0|window._sraf_state[t].caf_id[n],r?window._sraf_state[t].raf.call(window,l):window._sraf_state[t].caf_id[n]=window._sraf_state[t].raf.call(window,l)):setTimeout(this,u<1e3/(2*e)?1e3/(1.75*e):o||r?1e3/(2.5*e):1e3/e,a,s)}}))),get_state:()=>window._sraf_state[t]}}};e.exports=o},755:function(e,t,r){function o(e){return e&&e.__esModule?e:{"default":e}}var i,n,a,s,l,c,u,d,h,p,f,_,m,g,y,b,w,E,x,v,k,C,S,A,B,T,L,I,O,M,N,R,z,U,D,P,j,H,F,W,G,K,$,q,Y,V,X,J,Q,Z,ee,te,re,oe,ie,ne,ae,se,le,ce,ue,de,he,pe,fe,_e,me,ge,ye,be,we,Ee,xe,ve,ke,Ce,Se,Ae,Be,Te,Le,Ie,Oe,Me,Ne,Re,ze,Ue,De,Pe,je,He,Fe,We,Ge,Ke,$e,qe,Ye,Ve,Xe,Je,Qe,Ze,et,tt,rt,ot,it,nt,at,st,lt,ct,ut,dt,ht,pt,ft,_t,mt,gt,yt,bt,wt,Et,xt,vt,kt,Ct,St,At,Bt,Tt,Lt,It,Ot,Mt,Nt,Rt,zt,Ut,Dt,Pt,jt,Ht,Ft,Wt;Object.defineProperty(t,"__esModule",{value:!0}),i=Object.assign||function(e){var t,r,o;for(t=1;t<arguments.length;t++)for(o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e},n=r(0),a=o(n),s=r(26),l=r(596),c=r(75),u=r(756),d=o(u),h=r(757),p=o(h),f=r(758),_=o(f),m=r(685),g=o(m),y=o(r(759)),b=r(776),w=r(794),E=o(w),x=r(795),v=o(x),k=r(798),C=r(799),S=o(C),A=r(800),B=o(A),T=r(801),L=o(T),I=r(802),O=o(I),M=r(803),N=o(M),R=r(804),z=o(R),U=r(805),D=o(U),P=r(806),j=o(P),H=r(807),F=o(H),W=r(808),G=o(W),K=r(809),$=o(K),q=r(810),Y=o(q),V=r(811),X=o(V),J=r(812),Q=o(J),Z=r(679),ee=o(Z),te=r(689),re=o(te),oe=r(813),ie=o(oe),ne=r(690),ae=o(ne),se=r(691),le=o(se),ce=r(692),ue=o(ce),de=r(814),he=o(de),pe=r(815),fe=o(pe),_e=r(816),me=o(_e),ge=r(817),ye=o(ge),be=r(818),we=o(be),Ee=r(819),xe=o(Ee),ve=r(693),ke=o(ve),Ce=r(820),Se=o(Ce),Ae=r(694),Be=o(Ae),Te=r(821),Le=o(Te),Ie=r(695),Oe=o(Ie),Me=r(822),Ne=o(Me),Re=r(696),ze=o(Re),Ue=r(697),De=o(Ue),Pe=r(823),je=o(Pe),He=r(824),Fe=o(He),We=r(825),Ge=o(We),Ke=r(826),$e=o(Ke),qe=r(827),Ye=o(qe),Ve=r(828),Xe=o(Ve),Je=r(829),Qe=o(Je),Ze=r(698),et=o(Ze),tt=r(382),rt=o(tt),ot=r(699),it=o(ot),nt=r(645),at=o(nt),st=r(830),lt=o(st),ct=r(831),ut=o(ct),dt=r(832),ht=o(dt),pt=r(833),ft=o(pt),_t=r(834),mt=o(_t),gt=r(700),yt=o(gt),bt=r(835),wt=o(bt),Et=r(701),xt=o(Et),vt=r(836),kt=o(vt),Ct=r(702),St=o(Ct),At=r(837),Bt=o(At),Tt=r(838),Lt=o(Tt),It=r(839),Ot=o(It),Mt=r(840),Nt=o(Mt),Rt=r(841),zt=o(Rt),Ut=r(68),Dt=o(Ut),Pt=r(387),jt=o(Pt),Ht=r(130),Ft=o(Ht);const{Color:Gt}=(0,l.SIMDopeCreate)({create:{new_hex:!0,new_hsla:!0,new_of:!0},properties:{hex:!0,hsla:!0},methods:{get_slice:!0}}),Kt=(0,b.virtualize)(y["default"]),$t=["palette","image","layers","tools","selection","effects","filters"];class qt extends a["default"].PureComponent{constructor(e){super(e),Wt.call(this),this.st4te={classes:e.classes,canvas:e.canvas,is_mobile:e.is_mobile||!1,view_names:e.view_names,view_name_index:e.view_name_index,current_color:e.current_color,second_color:e.second_color,slider_value:parseFloat(e.slider_value),layers:e.layers,layer_index:e.layer_index,filter_layer_index:0,can_undo:e.can_undo,can_redo:e.can_redo,width:e.width,height:e.height,default_width:this.default_width?96:e.default_width||e.width||96,default_height:this.default_height?96:e.default_height||e.height||96,is_image_import_mode:e.is_image_import_mode,hide_canvas_content:e.hide_canvas_content,show_original_image_in_background:e.show_original_image_in_background,show_transparent_image_in_background:e.show_transparent_image_in_background,tool:e.tool,filters:e.filters,select_mode:e.select_mode,pencil_mirror_mode:e.pencil_mirror_mode,is_something_selected:e.is_something_selected,previous_view_name_index:e.previous_view_name_index,hue:e.hue,should_update:e.should_update||!1,slider_value_width:e.slider_value_width,slider_value_height:e.slider_value_height,_layer_opened:!1,_anchor_el:null,_saturation:60,_luminosity:60,_opacity:100,_history:c.HISTORY,too_much_colors_no_vector:!1,import_size:e.import_size,import_colorize:e.import_colorize,filters_thumbnail:e.filters_thumbnail||new Map,filters_preview_progression:e.filters_preview_progression||"0",last_filters_hash:"",_filter_aspect_ratio:"1 / 1",_filter_thumbnail_changed:!0,_compressed:!1,_upscale:!1,_vectorized:!1,_photo:!1,_crt:!1,_list_sub_header_opened:""},this._cache={palette:null,image:null,layers:null,tools:null,selection:null,effects:null,filters:null},this._cache_empty={palette:null,image:null,layers:null,tools:null,selection:null,effects:null,filters:null},Object.keys(this._cache).map((e=>{this.update_cache_view(e),this._cache_empty[e]=a["default"].createElement(s.List,{key:"list-empty-"+e,style:{willChange:"none",minHeight:"100%",contain:"size style layout paint",overflow:"auto",contentVisibility:"hidden",paddingTop:0}})}))}setSt4te(e,t){let r=Object.keys(e),o=0|r.length,i="";for(let n=0;(0|n)<(0|o);n=(n+1|0)>>>0)i=r[n]+"",this.st4te[i]=e[i];"function"==typeof t&&t()}componentDidMount(){this.props.set_filters_callback&&this.props.set_filters_callback(this._handle_filters_thumbnail_change),this.props.set_props_callback&&this.props.set_props_callback(this._set_props)}componentWillReceiveProps(e){const{should_update:t,view_name_index:r,previous_view_name_index:o,layer_index:n,filter_layer_index:a,is_image_import_mode:s,hide_canvas_content:l,show_original_image_in_background:c,show_transparent_image_in_background:u,can_undo:d,can_redo:h,current_color:p,second_color:f,tool:_,width:m,height:g,filters_preview_progression:y,select_mode:b,pencil_mirror_mode:w,is_something_selected:E,import_size:x,import_colorize:v,layers:k}=this.st4te,C=!(a===e.layer_index),S=!(d===e.can_undo&&h===e.can_redo),A=!(r===e.view_name_index&&!S&&!C||6!==e.view_name_index);let B=0;Array.from(e.layers).forEach((function(e){B<parseInt(e.number_of_colors)&&(B=parseInt(e.number_of_colors))}));const T=!!(B>256),L=!(k.map((function(e,t){return t+"_"+e.hidden+"_"+e.opacity+"_"+e.number_of_colors+"_h"+e.thumbnail.hash})).join("-")===e.layers.map((function(e,t){return t+"_"+e.hidden+"_"+e.opacity+"_"+e.number_of_colors+"_h"+e.thumbnail.hash})).join("-")),I=!(r===e.view_name_index),O=!(!e.should_update&&!t||!L&&b+""==e.select_mode+""&&!!T==!!this.st4te.too_much_colors_no_vector&&parseInt(n)===parseInt(e.layer_index)&&!!s==!!e.is_image_import_mode&&!!l==!!e.hide_canvas_content&&!!c==!!e.show_original_image_in_background&&!!u==!!e.show_transparent_image_in_background&&!!d==!!e.can_undo&&!!h==!!e.can_redo&&p+""==e.current_color+""&&f+""==e.second_color+""&&_+""==e.tool+""&&parseInt(m)===parseInt(e.width)&&parseInt(g)===parseInt(e.height)&&!!w==!!e.pencil_mirror_mode&&!!E==!!e.is_something_selected&&parseInt(x)===parseInt(e.import_size)&&(0|v)==(0|e.import_colorize));A&&this.compute_filters_preview(),this.setSt4te(i({},e,{},{slider_value:parseFloat(e.slider_value),too_much_colors_no_vector:T}),(()=>{O?this.update_cache_view(null,!0):I&&this.forceUpdate()}))}render(){return a["default"].createElement(Kt,{ignoreNativeScroll:!0,containerStyle:{overflow:"visible",contain:"size style",willChange:"inherit"},animateHeight:!0,animateTransitions:!0,disableLazyLoading:!0,resistance:!0,springConfig:{tension:450,friction:60,duration:"120ms",easeFunction:"cubic-bezier(0.4, 0, 0.2, 1)",delay:"5ms"},index:this.st4te.view_name_index,onChangeIndex:this._handle_view_name_change,disabled:!1,key:"swipe-able-view",slideRenderer:this.slideRenderer})}}Wt=function(){this._scroll_to_id=e=>{"function"==typeof this.props.on_scroll_to&&this.props.on_scroll_to(e)},this._handle_filters_thumbnail_change=(e,t,r)=>{if(r+="","0"===this.st4te.filters_preview_progression&&Dt["default"].trigger_voice("filtering"),this.st4te._filters_changed){let t,r="",o=!1;for(let i=0;i<this.st4te.filters.length;i++)t=e[this.st4te.filters[i]]||{},t&&(r=`${t.width} / ${t.height}`,o=!0);r!==this.st4te._filter_aspect_ratio&&o&&this.setSt4te({_filters_changed:!1,_filter_aspect_ratio:r},(()=>{this.update_cache_view(null,!0)}))}this.setSt4te({filters_thumbnail:e,last_filters_hash:t,filters_preview_progression:r,filter_layer_index:this.st4te.layer_index},(()=>{"100"===r&&this.update_cache_view(null,!0)}))},this._set_props=e=>{this.componentWillReceiveProps(e)},this.compute_filters_preview=()=>{try{this.setSt4te({_filters_changed:!0},(()=>{this.st4te.canvas.compute_filters_preview()}))}catch(e){}},this._text_to_new_layer=()=>{this.props.on_request_draw_text()},this._to_filter=e=>{this.st4te.canvas.to_filter(e,this.st4te.slider_value),this.is_mobile||this.compute_filters_preview()},this.get_action_panel_names=()=>$t,this.get_action_panel_cache=e=>this._cache[e],this._set_list_subheader_collapse=e=>{this.setSt4te({_list_sub_header_opened:this.st4te._list_sub_header_opened&&this.st4te._list_sub_header_opened===e?"":e},(()=>{this.update_cache_view(null,!0)}))},this._get_list_sub_header_content_scarlett=(e,t)=>{const r=this.st4te._list_sub_header_opened,o=this.st4te.classes;return a["default"].createElement(a["default"].Fragment,null,a["default"].createElement(s.Collapse,{className:o.listSubHeaderCollapse,"in":r===e},a["default"].createElement("p",{className:o.listSubHeaderDescription},t)),r===e&&a["default"].createElement("div",{className:o.listSubHeaderVideo},a["default"].createElement("video",{id:"upload-video",width:"150",height:"150",style:{aspectRatio:"1",transform:"translateZ(10px)"},autoPlay:!0},a["default"].createElement("source",{src:"/src/videos/"+e+".mp4",type:"video/mp4"})),a["default"].createElement("div",{className:o.listSubHeaderVideoOverlay}),a["default"].createElement("div",{className:o.listSubHeaderVideoFade})),a["default"].createElement(s.IconButton,{className:o.listSubHeaderToggle,onClick:()=>{this._set_list_subheader_collapse(e)}},r===e?a["default"].createElement(Ft["default"],null):a["default"].createElement(jt["default"],null)))},this._get_list_sub_header_classname=(e,t)=>{const r=this.st4te._list_sub_header_opened,o=this.st4te.classes;return r===e?o.listSubHeaderOpen:o.listSubHeader},this._get_colors=(e,t,r)=>{let o=[];for(let i=1;i<=128;i++)o.push(Gt.new_hsla(i/128*360|0,e,t,r).hex);return o},this.get_before_action_panel=e=>{const{classes:t,canvas:r,_anchor_el:o,layers:i,layer_index:n,_previous_layer_index:l,current_color:c,second_color:u,slider_value:h,width:p,height:f,_saturation:_,_luminosity:m,_opacity:g,_layer_opened:y,import_size:b,import_colorize:w,_list_sub_header_opened:x}=this.st4te,C=Gt.new_hex(c),A={r:C.r,g:C.g,b:C.b,a:C.a/255},[T,L,I]="#ffffff"===c?[196,196,196]:Gt.new_hex(c).get_slice(),O=T+L+I<456,[M,N,R]="#ffffff"===u?[196,196,196]:Gt.new_hex(u).get_slice(),z=M+N+R<456;switch(this.get_action_panel_names()[e]){case"layers":return a["default"].createElement("div",{key:"layers-layers-main",className:`swipetoolbox_i_${e}_0`},a["default"].createElement(s.ListSubheader,{className:t.listSubHeader,onClick:()=>{this._scroll_to_id(`swipetoolbox_i_${e}_0`)}},a["default"].createElement("span",null,a["default"].createElement(d["default"],null)),a["default"].createElement("span",null,"All layers")),a["default"].createElement("div",{key:"layers-wrapper-index-"+e},Array.from(i).reverse().map(((o,u,d)=>{const _=d.length-1-u;return"undefined"==typeof o.colors?null:a["default"].createElement("div",{key:"layers-list-item-n-"+_},a["default"].createElement(s.ListItem,{divider:!0,className:n===_?t.layerSelected:null,button:!0,onClick:()=>this._change_active_layer(_)},a["default"].createElement(s.ListItemAvatar,null,a["default"].createElement("canvas",{className:"pixelated "+t.layerThumbnail+" "+e,ref:e=>{this._set_canvas_ref(e,o.thumbnail,!0)},key:"layer-n-"+_+"-w-"+o.thumbnail.width+"-h-"+o.thumbnail.height,width:o.thumbnail.width||0,height:o.thumbnail.height||0,style:{background:`repeating-conic-gradient(rgb(248 248 248 / 100%) 0% 25%, rgb(224 224 224 / 100%) 0% 50%) left top 50% / calc(200% / ${p}) calc(200% / ${f})`}})),a["default"].createElement(s.ListItemText,{primary:o.name}),a["default"].createElement(E["default"],{className:y&&n===_?t.flipExpandMoreIcon:t.expandMoreIcon})),(n===_||l===_)&&a["default"].createElement(s.Collapse,{timeout:{appear:250,enter:250,exit:250},"in":y&&n===_,className:t.layerSelected},a["default"].createElement("div",{style:{padding:"12px 0px 12px 32px"}},a["default"].createElement("span",null,"Colours: (",o.colors.length,"/",o.number_of_colors,")"),a["default"].createElement(v["default"],{key:"layer-n-"+e+"-color-palette",transparent:!0,padding:"12px 0px",size:32,gap:"8px",colors:o.colors,selected_colors:Array.of(c),onColorClick:(e,t)=>{this._handle_current_color_change(t)}}),o.colors.length>=2?a["default"].createElement("div",{style:{padding:"12px 0px"}},a["default"].createElement(s.Button,{color:"primary",onClick:()=>this._less_colors_stepped(1)},"...Less colors")):null),a["default"].createElement(s.Divider,{style:{marginLeft:24}}),a["default"].createElement("div",{style:{padding:"12px 0px 12px 32px"}},a["default"].createElement("span",null,"Actions:"),a["default"].createElement("div",{style:{padding:"12px 0px"}},a["default"].createElement(s.Button,{color:"primary",onClick:()=>{r.current_layer_up()}},"UP"),a["default"].createElement(s.Button,{color:"primary",onClick:()=>{r.current_layer_down()}},"DOWN"),a["default"].createElement(s.Button,{color:"primary",onClick:()=>{r.toggle_layer_visibility(n)}},(i[n]||{}).hidden?"SHOW":"HIDE"),a["default"].createElement(s.Button,{color:"primary",onClick:()=>{r.change_layer_opacity(n,h)}},`OPACITY: ${(i[n]||{}).opacity} -> ${h}`)))))}))));case"palette":return a["default"].createElement("div",{key:"palette-palette-main",className:`swipetoolbox_i_${e}_0`},a["default"].createElement(s.Menu,{className:t.menu,anchorEl:o,anchorPosition:{vertical:"top",horizontal:"center"},keepMounted:!0,open:!!o,onClose:this._handle_color_menu_close,style:{padding:0}},a["default"].createElement(k.RgbaColorPicker,{className:t.materialPicker,color:A,onChange:e=>{this._handle_current_color_change(Gt.new_of(e.r,e.g,e.b,0|Math.round(255*e.a)).hex)}})),a["default"].createElement("div",{style:{textAlign:"center"}},a["default"].createElement(s.Button,{variant:"contained",style:{fontWeight:"bold",color:O?"white":"black",boxShadow:`0px 2px 4px -1px rgb(${T} ${L} ${I} / 20%), 0px 4px 5px 0px rgb(${T} ${L} ${I} / 14%), 0px 1px 10px 0px rgb(${T} ${L} ${I} / 12%)`,margin:24,boxSizing:"content-box",background:c,borderRadius:4,height:48,width:152},onClick:e=>{this._handle_color_menu_open(e,c)}},"Primary"),a["default"].createElement(s.Button,{variant:"contained",style:{fontWeight:"bold",color:z?"white":"black",boxShadow:`0px 2px 4px -1px rgb(${M} ${N} ${R} / 20%), 0px 4px 5px 0px rgb(${M} ${N} ${R} / 14%), 0px 1px 10px 0px rgb(${M} ${N} ${R} / 12%)`,margin:24,boxSizing:"content-box",background:u,borderRadius:4,height:48,width:96},onClick:e=>{this._switch_with_second_color()}},"Switch")),a["default"].createElement(v["default"],{transparent:!0,padding:"12px 16px 24px 24px",gap:"0px",align:"left",colors:this._get_colors(_,m,g),selected_colors:[c],onColorClick:(e,t)=>{this._handle_current_color_change(t)}}),a["default"].createElement("div",{style:{padding:"8px 24px",position:"relative",overflow:"visible",boxSizing:"border-box",width:"100%"},key:"palette-palette-secondary",className:`swipetoolbox_i_${e}_1`},a["default"].createElement("div",{className:t.sliderContainer},a["default"].createElement(s.Typography,{className:t.sliderLabel,id:"opacity-slider",gutterBottom:!0},"ฮฑ"),a["default"].createElement(s.Slider,{defaultValue:parseInt(g),key:"0-"+g,step:10,valueLabelDisplay:"auto",min:0,max:100,onChangeCommitted:this._set_opacity_from_slider,"aria-labelledby":"opacity-slider"})),a["default"].createElement("div",{className:t.sliderContainer},a["default"].createElement(s.Typography,{className:t.sliderLabel,id:"luminosity-slider",gutterBottom:!0},"L"),a["default"].createElement(s.Slider,{defaultValue:parseInt(m),key:"0-"+m,step:10,valueLabelDisplay:"auto",min:0,max:100,onChangeCommitted:this._set_luminosity_from_slider,"aria-labelledby":"luminosity-slider"})),a["default"].createElement("div",{className:t.sliderContainer},a["default"].createElement(s.Typography,{className:t.sliderLabel,id:"saturation-slider",gutterBottom:!0},"S"),a["default"].createElement(s.Slider,{defaultValue:parseInt(_),key:"0-"+_,step:10,valueLabelDisplay:"auto",min:0,max:100,onChangeCommitted:this._set_saturation_from_slider,"aria-labelledby":"strength-slider"}))));case"image":return a["default"].createElement("div",{key:"image-image-upload",className:`swipetoolbox_i_${e}_0`},a["default"].createElement(s.ListSubheader,{className:this._get_list_sub_header_classname("upload"),onClick:()=>{this._scroll_to_id(`swipetoolbox_i_${e}_0`)},disabled:"upload"!=x},a["default"].createElement("span",{className:"list-sub-header-main-text"},a["default"].createElement("span",null,a["default"].createElement(B["default"],null)),a["default"].createElement("span",null,"New Artwork")),this._get_list_sub_header_content_scarlett("upload","Define a size before uploading an image from the library or your device, this size will be the one used in the laboratory, but before! You can optionally define a retouching setting by artificial intelligence of your starting image, you can enlarge, colorize or even do both at the same time! That's how it's done to open an image in the lab, have fun.")),a["default"].createElement(s.FormLabel,{style:{padding:"32px 24px 12px 32px"},component:"legend"},"START HERE, CONVERT PICTURES INTO PIXEL ART!"),a["default"].createElement("div",{className:"image "+t.listItems},a["default"].createElement("input",{accept:"image/jpg, image/jpeg, image/png, image/svg, image/webp, image/gif",style:{display:"none"},id:"button-file-drawer-upload-key-"+(i[n]||{}).hash,key:"input-button-file-drawer-upload-key-"+(i[n]||{}).hash,type:"file",onChange:this._upload_image}),a["default"].createElement(s.ListItem,{component:"label",button:!0,key:"list-item-button-file-drawer-upload-key-"+(i[n]||{}).hash,htmlFor:"button-file-drawer-upload-key-"+(i[n]||{}).hash},a["default"].createElement(s.ListItemIcon,{className:t.listItemIconBlueBold},a["default"].createElement(S["default"],null)),a["default"].createElement(s.ListItemText,{className:t.ListItemTextBold,primary:"UPLOAD IMAGE",secondary:"NETWORK NOT REQUIRED"})),!1,!1),a["default"].createElement("div",{className:"image "+t.listItems},a["default"].createElement("div",{style:{padding:"8px 24px",position:"relative",overflow:"hidden",boxSizing:"border-box",width:"100%"}},a["default"].createElement(s.Typography,{id:"size-slider",style:{textAlignLast:"left"},gutterBottom:!0},"NEW IMAGE SIZE"),a["default"].createElement(s.Slider,{defaultValue:parseInt(b),step:1,valueLabelDisplay:"auto",min:0,max:b>512?b:512,onChangeCommitted:this._set_import_size,onClick:function(e){e.stopPropagation(),e.preventDefault()},"aria-labelledby":"size-slider"}))),a["default"].createElement(s.FormLabel,{style:{padding:"16px 24px 12px 32px"},component:"legend"},"ONLINE TOOLS TO ENHANCE YOUR SELECTION"),a["default"].createElement("div",{className:"image "+t.listItems},a["default"].createElement(s.RadioGroup,{row:!0,name:"Colorize",onChange:this._set_import_colorize,key:"colorize-mode-n-"+w,value:w,style:{padding:"12px 0px",margin:"0px 11px"}},a["default"].createElement(s.FormControlLabel,{value:"0",control:a["default"].createElement(s.Radio,{color:"primary"}),label:"NONE",labelPlacement:"bottom"}),a["default"].createElement(s.FormControlLabel,{value:"1",control:a["default"].createElement(s.Radio,{color:"primary"}),label:"COLOR",labelPlacement:"bottom"}),a["default"].createElement(s.FormControlLabel,{value:"2",control:a["default"].createElement(s.Radio,{color:"primary"}),label:"SCALE",labelPlacement:"bottom"}),a["default"].createElement(s.FormControlLabel,{value:"3",control:a["default"].createElement(s.Radio,{color:"primary"}),label:"BOTH",labelPlacement:"bottom"}))))}},this._set_canvas_ref=(e,t,r=!1)=>{if(void 0===t)return;if("undefined"==typeof t.width)return;if(1!=r&&1==t.drawn)return;if(void 0===e)return;if(null==e)return;if("undefined"==typeof e.width)return;if(!e.width)return;let o=e.getContext("2d");o.globalCompositeOperation="copy",o.drawImage(t,0,0),t.drawn=!0},this.get_action_panel=e=>{const{canvas:t,classes:r,filters_thumbnail:o,layer_index:i,is_image_import_mode:n,hide_canvas_content:s,show_original_image_in_background:l,show_transparent_image_in_background:c,current_color:u,second_color:d,slider_value:h,tool:f,filters:m,select_mode:y,pencil_mirror_mode:b,is_something_selected:w,_filter_aspect_ratio:E,filters_preview_progression:x,too_much_colors_no_vector:v,_compressed:k,_upscale:C,_vectorized:S,_crt:A,_photo:T}=this.st4te,I=Math.round(7*parseFloat(x/7));switch(this.get_action_panel_names()[e]){case"palette":default:return[];case"image":return[{name:"pixelated",tutorial:"Here are the buttons to download your image in simple size or enlarged so as to have enlarged but still very clear edges!",icon:a["default"].createElement(L["default"],null),text:"Download pixelated",description:"Simple way to upscale your source file to be sure to have a file that is interpreted correctly with crisp edges.",local_i:1,label:"matrix",tools:[{icon:a["default"].createElement(O["default"],null),"class":r.animatedDownload,text:"Render (1x size)",sub:"[CTRL + Q]",on_click:()=>{this._download_png(1)}},{icon:a["default"].createElement(O["default"],null),"class":r.animatedDownload,text:"Render (2x size)",sub:"Upscale 2x",on_click:()=>{this._download_png(2)}},{icon:a["default"].createElement(O["default"],null),"class":r.animatedDownload,text:"Render (4x size)",sub:"Upscale 4x",on_click:()=>{this._download_png(4)}},{icon:a["default"].createElement(O["default"],null),"class":r.animatedDownload,text:"Render (8x size)",sub:"Upscale 8x",on_click:()=>{this._download_png(8)}},{icon:a["default"].createElement(O["default"],null),"class":r.animatedDownload,text:"Render (16x size)",sub:"Upscale 16x",on_click:()=>{this._download_png(16)}},{icon:a["default"].createElement(O["default"],null),"class":r.animatedDownload,text:"Render (24x size)",sub:"Upscale 24x",on_click:()=>{this._download_png(24)}},{icon:a["default"].createElement(O["default"],null),"class":r.animatedDownload,text:"Render (32x size)",sub:"Upscale 32x",on_click:()=>{this._download_png(32)}},{icon:a["default"].createElement(O["default"],null),"class":r.animatedDownload,text:"Render (48x size)",sub:"Upscale 48x",on_click:()=>{this._download_png(48)}}]},{name:"enhanced",tutorial:"Here are the buttons to download your image enlarged, yet having sleek, clean and humanized or rounded edges! It is possible to request a non-raster version of your image, it can be enlarged at will without loss of quality. The other options are provided for the purpose of reducing the size of your incoming file or even enlarging the result by two at most.",icon:a["default"].createElement(L["default"],null),text:"Download enhanced"+(v?" (Disabled)":""),description:v?"It will look like a painting! Yet, we need to have less than 256 colors for each layers because there should be a few shapes to get a beautiful result.":"After 2000's, great minds have found ways to up-scale late 80's pixel art within modern emulators while always being cool and absolutely right. Hey! It can look like a nice painting^^",local_i:2,label:"vector",tools:[{icon:a["default"].createElement(O["default"],null),"class":r.animatedDownload,text:"Kikko",sub:"Upscale by 48x using a 400 years old Japanese pattern",disabled:v,on_click:()=>{this._download_svg("kikko",k,S,A,T)}},{icon:a["default"].createElement(O["default"],null),"class":r.animatedDownload,text:"Hexagon",sub:"Upscale by 32x using an hexagonal grid",disabled:v,on_click:()=>{this._download_svg("hexagon",k,S,A,T)}},{icon:a["default"].createElement(O["default"],null),"class":r.animatedDownload,text:"Omni",sub:"Upscale by 8x using Omniscale",disabled:v,on_click:()=>{this._download_svg("omniscale",k,S,A,T)}},{icon:a["default"].createElement(O["default"],null),"class":r.animatedDownload,text:"xBRZ",sub:"Upscale by 6x using xBRZ",disabled:v,on_click:()=>{this._download_svg("xbrz",k,S,A,T)}},{icon:k?a["default"].createElement(lt["default"],null):a["default"].createElement(ut["default"],null),text:"Compressed",sub:"Reduce file weight",disabled:v,on_click:()=>{this._toggle_compressed()}},{icon:S?a["default"].createElement(lt["default"],null):a["default"].createElement(ut["default"],null),text:"Vectorized",sub:"Download an SVG file with it",disabled:v,on_click:()=>{this._toggle_vectorized()}},{icon:A?a["default"].createElement(lt["default"],null):a["default"].createElement(ut["default"],null),text:"Retro",sub:"Download a PNG file with a retro effect",disabled:v,on_click:()=>{this._toggle_crt()}},{icon:T?a["default"].createElement(lt["default"],null):a["default"].createElement(ut["default"],null),text:"Photo-realistic",sub:"Get the pixel art changed into something looking very real",disabled:v,on_click:()=>{this._toggle_photo()}}]}];case"layers":return[{icon:a["default"].createElement(N["default"],null),local_i:1,text:"Layer tools",label:"tools",tools:[{icon:s?a["default"].createElement(z["default"],null):a["default"].createElement(D["default"],null),text:s?"Show canvas content":"Hide canvas content",on_click:()=>{this._show_hide_canvas_content()}},{icon:l?a["default"].createElement(j["default"],null):a["default"].createElement(F["default"],null),text:l?"Hide bg img":"Show bg img",on_click:()=>{this._show_hide_background_image()}},{icon:c?a["default"].createElement(j["default"],null):a["default"].createElement(F["default"],null),text:c?"Hide chessboard":"Show chessboard",on_click:()=>{this._show_hide_transparent_image()}}]},{icon:a["default"].createElement(G["default"],null),text:"Layer actions",local_i:2,label:"actions",tools:[{icon:a["default"].createElement($["default"],null),text:"New layer",on_click:()=>{t.new_layer(i)}},{icon:a["default"].createElement(Y["default"],null),text:"Delete layer",on_click:()=>{t.delete_layer(i)}},{icon:a["default"].createElement(X["default"],null),text:"Duplicate layer",on_click:()=>{t.duplicate_layer(i)}},{icon:a["default"].createElement(Q["default"],null),text:"Merge down layer",on_click:()=>{t.merge_down_layer(i)}}]},{icon:a["default"].createElement(B["default"],null),text:"Import image",local_i:3,label:"importing",tools:[{icon:a["default"].createElement(ee["default"],null),text:"Library to import",sub:"",on_click:()=>{this._import_image_from_libary()}},{icon:a["default"].createElement(ee["default"],null),text:"Import image",sub:"[CTRL + I]","for":"button-file-dialog-main",on_click:this.props.on_import_image},{icon:a["default"].createElement(ee["default"],null),text:"Confirm import",sub:"[Enter]",disabled:!n,on_click:()=>{t.confirm_import()}},{icon:a["default"].createElement(Fe["default"],null),text:"Asset Store",sub:"Buy tremendous images to add in your drawing",disabled:!1,on_click:()=>{window.open("https://www.artstation.com/pixapics/store")}}]}];case"tools":return[{icon:a["default"].createElement(re["default"],null),text:"Drawing tools",label:"drawing",local_i:1,tools:[{icon:a["default"].createElement(ie["default"],null),disabled:"PICKER"===f,text:"Picker",sub:"[CTRL (HOLD)]",on_click:()=>{this._set_tool("PICKER")}},{icon:a["default"].createElement(ae["default"],null),disabled:"PENCIL"===f,text:"Pencil",sub:"[P]",on_click:()=>{this._set_tool("PENCIL")}},{icon:a["default"].createElement(le["default"],null),disabled:"PENCIL PERFECT"===f,text:"Pencil perfect",sub:"[N]",on_click:()=>{this._set_tool("PENCIL PERFECT")}},{icon:a["default"].createElement(ue["default"],null),disabled:"SET PENCIL MIRROR"===f,text:"Set pencil mirror",sub:"[M]",on_click:()=>{this._set_tool("SET PENCIL MIRROR")}},{icon:a["default"].createElement(Qe["default"],null),disabled:"MOVE"===f,text:"Move",sub:"Middle mouse click moves it too...",on_click:()=>{this._set_tool("MOVE")}}]},{icon:a["default"].createElement(he["default"],null),text:"Shapes tools",label:"shapes",local_i:2,tools:[{icon:a["default"].createElement(fe["default"],null),disabled:"LINE"===f,text:"Line",sub:"[L]",on_click:()=>{this._set_tool("LINE")}},{icon:a["default"].createElement(me["default"],null),disabled:"RECTANGLE"===f,text:"Rectangle",sub:"[R]",on_click:()=>{this._set_tool("RECTANGLE")}},{icon:a["default"].createElement(ye["default"],null),disabled:"ELLIPSE"===f,text:"Ellipse",sub:"[E]",on_click:()=>{this._set_tool("ELLIPSE")}},{icon:a["default"].createElement(we["default"],null),disabled:"CONTOUR"===f,text:"Free path",sub:"[F]",on_click:()=>{this._set_tool("CONTOUR")}}]},{icon:a["default"].createElement(xe["default"],null),text:"Paint tools",label:"basic",local_i:3,tools:[{icon:a["default"].createElement(ke["default"],null),disabled:"BUCKET"===f,text:"Bucket",sub:"[B]",on_click:()=>{this._set_tool("BUCKET")}},{icon:a["default"].createElement(ke["default"],null),disabled:"HUE BUCKET"===f,text:"Hue bucket",sub:"[H]",on_click:()=>{this._set_tool("HUE BUCKET")}},{icon:a["default"].createElement(Se["default"],null),disabled:"EXCHANGE"===f,text:"Exchange",sub:"[X]",on_click:()=>{this._set_tool("EXCHANGE")}},{icon:a["default"].createElement(Be["default"],null),disabled:"BORDER"===f,text:"Border",sub:"[U]",on_click:()=>{this._set_tool("BORDER")}}]},{icon:a["default"].createElement(ue["default"],null),text:"Set pencil mirrors",label:"mirror",local_i:4,tools:[{icon:a["default"].createElement(ue["default"],null),disabled:"NONE"===b,text:"None",on_click:()=>{this._set_pencil_mirror_mode("NONE")}},{icon:a["default"].createElement(ue["default"],null),disabled:"VERTICAL"===b,text:"Vertical",on_click:()=>{this._set_pencil_mirror_mode("VERTICAL")}},{icon:a["default"].createElement(ue["default"],null),disabled:"HORIZONTAL"===b,text:"Horizontal",on_click:()=>{this._set_pencil_mirror_mode("HORIZONTAL")}},{icon:a["default"].createElement(ue["default"],null),disabled:"BOTH"===b,text:"Both",on_click:()=>{this._set_pencil_mirror_mode("BOTH")}}]}];case"selection":return[{icon:a["default"].createElement(Le["default"],null),text:"Select mode",local_i:0,label:"mode",tools:[{icon:a["default"].createElement(Oe["default"],null),disabled:"REMOVE"===y,text:"Select remove",sub:"[CTRL (HOLD)]",on_click:()=>{this._set_select_mode("REMOVE")}},{icon:a["default"].createElement(Ne["default"],null),disabled:"ADD"===y,text:"Select add",sub:"[SHIFT (HOLD)]",on_click:()=>{this._set_select_mode("ADD")}},{icon:a["default"].createElement(p["default"],null),disabled:"REPLACE"===y,text:"Select replace",on_click:()=>{this._set_select_mode("REPLACE")}}]},{icon:a["default"].createElement(ze["default"],null),text:"Select tool",label:"selecting",local_i:1,tools:[{icon:a["default"].createElement(p["default"],null),disabled:"SELECT PATH"===f,text:"Select path",sub:"[CTRL + F]",on_click:()=>{this._set_tool("SELECT PATH")}},{icon:a["default"].createElement(De["default"],null),disabled:"SELECT COLOR"===f,text:"Select color",sub:"[CTRL + G]",on_click:()=>{this._set_tool("SELECT COLOR")}},{icon:a["default"].createElement(je["default"],null),disabled:"SELECT COLOR THRESHOLD"===f,text:"Select color threshold",sub:"[CTRL + K]",on_click:()=>{this._set_tool("SELECT COLOR THRESHOLD")}},{icon:a["default"].createElement(Ge["default"],null),disabled:"SELECT PIXEL"===f,text:"Select pixel",sub:"[CTRL + P]",on_click:()=>{this._set_tool("SELECT PIXEL")}},{icon:a["default"].createElement(Ge["default"],null),disabled:"SELECT PIXEL PERFECT"===f,text:"Select pixel perfect",sub:"[CTRL + N]",on_click:()=>{this._set_tool("SELECT PIXEL PERFECT")}},{icon:a["default"].createElement(p["default"],null),disabled:"SELECT LINE"===f,text:"Select line",sub:"[CTRL + L]",on_click:()=>{this._set_tool("SELECT LINE")}},{icon:a["default"].createElement($e["default"],null),disabled:"SELECT RECTANGLE"===f,text:"Select rectangle",sub:"[CTRL + R]",on_click:()=>{this._set_tool("SELECT RECTANGLE")}},{icon:a["default"].createElement(Ye["default"],null),disabled:"SELECT ELLIPSE"===f,text:"Select ellipse",sub:"[CTRL + E]",on_click:()=>{this._set_tool("SELECT ELLIPSE")}}]},{icon:a["default"].createElement(Xe["default"],null),text:"Apply to selection",label:"applying",local_i:2,tools:[{icon:a["default"].createElement(ze["default"],null),disabled:!w,text:"Shrink",on_click:()=>{t.to_selection_size(-1)}},{icon:a["default"].createElement(ze["default"],null),disabled:!w,text:"Grow",on_click:()=>{t.to_selection_size(1)}},{icon:a["default"].createElement(Be["default"],null),disabled:!w,text:"Border",on_click:()=>{t.to_selection_border()}},{icon:a["default"].createElement(ke["default"],null),disabled:!w,text:"Bucket",on_click:()=>{t.to_selection_bucket()}},{icon:a["default"].createElement(ze["default"],null),disabled:!w,text:"Crop",on_click:()=>{t.to_selection_crop()}},{icon:a["default"].createElement(et["default"],null),disabled:!w,text:"Invert",on_click:()=>{t.to_selection_invert()}},{icon:a["default"].createElement(Oe["default"],null),disabled:!w,text:"Unselect",on_click:()=>{t.to_selection_none()}},{icon:a["default"].createElement(rt["default"],null),disabled:!w,text:"Copy",on_click:()=>{t.copy_selection()}},{icon:a["default"].createElement(it["default"],null),disabled:!w,text:"Cut",on_click:()=>{t.cut_selection()}},{icon:a["default"].createElement(at["default"],null),disabled:!w,text:"Erase",on_click:()=>{t.erase_selection()}},{icon:a["default"].createElement(ke["default"],null),disabled:!w,text:"Colorize dynamical",on_click:()=>{t.to_selection_changes(u,!1)}},{icon:a["default"].createElement(De["default"],null),disabled:!w,text:"Get average color",on_click:()=>{this._get_average_color_of_selection()}},{icon:a["default"].createElement(De["default"],null),disabled:!w,text:"Luminance +10",on_click:()=>{t._selection_pxl_adjust_sat_lum(0,10)}},{icon:a["default"].createElement(De["default"],null),disabled:!w,text:"Luminance -10",on_click:()=>{t._selection_pxl_adjust_sat_lum(0,-10)}},{icon:a["default"].createElement(De["default"],null),disabled:!w,text:"Saturation +10",on_click:()=>{t._selection_pxl_adjust_sat_lum(10,0)}},{icon:a["default"].createElement(De["default"],null),disabled:!w,text:"Saturation -10",on_click:()=>{t._selection_pxl_adjust_sat_lum(-10,0)}}]}];case"effects":return[{icon:a["default"].createElement(_["default"],null),text:"Effects",label:"primary",local_i:0,tools:[{icon:a["default"].createElement(xt["default"],null),text:"Smooth",sub:"Run smooth effect once",on_click:()=>{t.smooth_adjust(1),this._handle_action_close()}},{icon:a["default"].createElement(yt["default"],null),text:"To auto contrast",sub:"Effect strength have an impact",on_click:()=>{t.auto_adjust_contrast(h),this._handle_action_close()}},{icon:a["default"].createElement(yt["default"],null),text:"To auto saturation",sub:"Effect strength have an impact",on_click:()=>{t.auto_adjust_saturation(h),this._handle_action_close()}},{icon:a["default"].createElement(kt["default"],null),text:"To vignette",sub:"Current color and effect strength have an impact",on_click:()=>{t.to_vignette(u,h),this._handle_action_close()}},{icon:a["default"].createElement(St["default"],null),text:"Less colors by strength",sub:"Effect strength have an impact",on_click:()=>{t.to_less_color(h/5),this._handle_action_close()}},{icon:a["default"].createElement(St["default"],null),text:"Less colors by small steps",sub:"Remove colors slowly",on_click:()=>{this._less_colors_stepped(),this._handle_action_close()}},{icon:a["default"].createElement(Bt["default"],null),text:"Less colors auto",sub:"Apply to current layer",on_click:()=>{t.to_less_color("auto"),this._handle_action_close()}},{icon:a["default"].createElement(wt["default"],null),text:"To dutone",sub:"Current color and effect strength have an impact",on_click:()=>{t.to_dutone(h,d,u),this._handle_action_close()}},{icon:a["default"].createElement(mt["default"],null),text:"To colorized",sub:"Current color and effect strength have an impact",on_click:()=>{this._colorize(),this._handle_action_close()}},{icon:a["default"].createElement(ft["default"],null),text:"To alpha",sub:"Current color and effect strength have an impact",on_click:()=>{t.to_alpha(u,h),this._handle_action_close()}},{icon:a["default"].createElement(zt["default"],null),text:"Mirror vertical",sub:"Apply to current layer",on_click:()=>{t.to_mirror(!1),this._handle_action_close()}},{icon:a["default"].createElement(Nt["default"],null),text:"Mirror horizontal",sub:"Apply to current layer",on_click:()=>{t.to_mirror(!0),this._handle_action_close()}},{icon:a["default"].createElement(Ot["default"],null),text:"Rotate 90ยฐ",sub:"Apply to all layers",on_click:()=>{t.to_rotation(!0),this._handle_action_close()}},{icon:a["default"].createElement(Lt["default"],null),text:"Rotate - 90ยฐ",sub:"Apply to all layers",on_click:()=>{t.to_rotation(!1),this._handle_action_close()}}]}];case"filters":const{height:e,width:x}=o.get(m[0])||{};return[{icon:a["default"].createElement(g["default"],null),progression:I,text:"Filters",style:{position:"relative"},label:"primary",local_i:0,sub:"The strength selected matters meanwhile preview are only shown at 100% intensity. To cancel any operation, use 'undo'.",tools:m.map(((t,r)=>{const i=o.get(t)||{};return{style:{position:"relative",width:"100%",height:"100%"},icon:a["default"].createElement("canvas",{className:"pixelated",ref:e=>{this._set_canvas_ref(e,i,!0)},width:x||1,height:e||1,style:{zIndex:"-1",aspectRatio:E,boxSizing:"border-box",height:"100%",minWidth:"100%",width:128,boxShadow:"0px 1px 2px #3729c1a8",border:"4px solid #020529",borderRadius:2,contain:"paint style size"},key:"name-"+t+"-ratio-"+E+"-over-"+(i.width||0)+"x"+(i.height||0)}),text:t,text_style:{flex:"1 1",bottom:16,left:8,width:"100%",right:24,color:"white",padding:8,borderBottomLeftRadius:"4px",borderBottomRightRadius:"4px",textAlign:"initial",zIndex:1,wordBreak:"break-word",position:"absolute",margin:"-16px -12px -12px -8px",boxSizing:"border-box"},on_click:()=>{this._to_filter(t),this._handle_action_close()}}}))}]}},this.canvas_set_size=()=>{this.st4te.canvas._new_blank(this.st4te.slider_value_width,this.st4te.slider_value_height)},this.get_after_action_panel=e=>{const{classes:t,slider_value_width:r,slider_value_height:o}=this.st4te;if("image"===this.get_action_panel_names()[e])return a["default"].createElement("div",{key:"image-image-create",className:`swipetoolbox_i_${e}_3`},a["default"].createElement(s.ListSubheader,{className:t.listSubHeader,onClick:()=>{this._scroll_to_id(`swipetoolbox_i_${e}_3`)}},a["default"].createElement("span",{className:"list-sub-header-main-text"},a["default"].createElement("span",null,a["default"].createElement(S["default"],null)),a["default"].createElement("span",null,"Create new")),this._get_list_sub_header_content_scarlett("create","This is where you can create a new transparent canvas of any size you want. This is how it's done, have fun!")),a["default"].createElement("div",{style:{padding:"32px 24px",position:"relative",overflow:"hidden",boxSizing:"border-box",width:"100%"}},a["default"].createElement(s.Typography,{id:"width-slider",gutterBottom:!0},"Width"),a["default"].createElement(s.Slider,{defaultValue:parseInt(r),step:1,valueLabelDisplay:"auto",min:0,max:512,key:"slider-width",onChangeCommitted:this._set_width_from_slider,"aria-labelledby":"width-slider"}),a["default"].createElement(s.Typography,{id:"height-slider",gutterBottom:!0},"Height"),a["default"].createElement(s.Slider,{defaultValue:parseInt(o),step:1,valueLabelDisplay:"auto",min:0,max:512,key:"slider-height",onChangeCommitted:this._set_height_from_slider,"aria-labelledby":"height-slider"}),a["default"].createElement(s.Typography,{id:"confirm-slider",gutterBottom:!0},"Confirm"),a["default"].createElement(s.Button,{fullWidth:!0,onClick:()=>{this.canvas_set_size()}},"Create my new canvas")))},this._rgba_from_hex=e=>{const{get_rgba_from_hex:t}=this.st4te.canvas;return t?t(e):[0,0,0,0]},this._download_png=e=>{this.props.on_download_image&&this.props.on_download_image(e)},this._toggle_compressed=()=>{this.setSt4te({_compressed:!this.st4te._compressed},(()=>{this.update_cache_view(null,!0)}))},this._toggle_upscale=()=>{this.setSt4te({_upscale:!this.st4te._upscale},(()=>{this.update_cache_view(null,!0)}))},this._toggle_vectorized=()=>{this.setSt4te({_vectorized:!this.st4te._vectorized},(()=>{this.update_cache_view(null,!0)}))},this._toggle_crt=()=>{this.setSt4te({_crt:!this.st4te._crt},(()=>{this.update_cache_view(null,!0)}))},this._toggle_photo=()=>{this.setSt4te({_photo:!this.st4te._photo},(()=>{this.update_cache_view(null,!0)}))},this._download_svg=(e="xbrz",t=!1,r=!1,o=!1,i=!1)=>{this.props.on_download_svg&&this.props.on_download_svg(e,t,r,o,i)},this._less_colors_stepped=(e=1)=>{const{_less_colors_stepped:t}=this.st4te.canvas;t(e)},this._colorize=()=>{const{current_color:e,slider_value:t}=this.st4te,{to_color:r}=this.st4te.canvas,[o,i,n,a]=Gt.new_hex(e).hsla;r(o,t,0===i?null:i,0===n?null:n)},this._import_image_from_libary=()=>{this.props.on_import_image_library&&this.props.on_import_image_library()},this._upload_image=e=>{this.props.on_upload_image&&this.props.on_upload_image(e)},this._upload_image_from_library=()=>{this.props.on_upload_image_library&&this.props.on_upload_image_library()},this._handle_current_color_change=e=>{this.props.on_current_color_change&&this.props.on_current_color_change(e),this.setSt4te({current_color:e},(()=>{this.update_cache_view(null,!0)}))},this._handle_view_name_change=(e,t=null)=>{this.props.on_view_name_change&&this.props.on_view_name_change(e,t)},this._handle_color_menu_open=e=>{this.setSt4te({_anchor_el:e.currentTarget},(()=>{this.update_cache_view(null,!0)}))},this._handle_color_menu_close=()=>{this.setSt4te({_anchor_el:null},(()=>{this.update_cache_view(null,!0)}))},this._set_saturation_from_slider=(e,t)=>{this.setSt4te({_saturation:t},(()=>{this.update_cache_view("palette",!0)}))},this._set_luminosity_from_slider=(e,t)=>{this.setSt4te({_luminosity:t},(()=>{this.update_cache_view("palette",!0)}))},this._set_opacity_from_slider=(e,t)=>{this.setSt4te({_opacity:t},(()=>{this.update_cache_view("palette",!0)}))},this._set_tool=e=>{this.props.set_tool&&this.props.set_tool(e)},this._set_select_mode=e=>{this.props.set_select_mode&&this.props.set_select_mode(e)},this._set_pencil_mirror_mode=e=>{this.props.set_pencil_mirror_mode&&this.props.set_pencil_mirror_mode(e)},this._switch_with_second_color=()=>{this.props.switch_with_second_color&&this.props.switch_with_second_color()},this._show_hide_canvas_content=()=>{this.props.show_hide_canvas_content&&this.props.show_hide_canvas_content()},this._show_hide_background_image=()=>{this.props.show_hide_background_image&&this.props.show_hide_background_image()},this._show_hide_transparent_image=()=>{this.props.show_hide_transparent_image&&this.props.show_hide_transparent_image()},this._set_width_from_slider=(e,t)=>{this.props.set_width_from_slider&&this.props.set_width_from_slider(e,t)},this._set_height_from_slider=(e,t)=>{this.props.set_height_from_slider&&this.props.set_height_from_slider(e,t)},this._set_import_size=(e,t)=>{this.props.set_import_size&&this.props.set_import_size(e,t)},this._set_import_colorize=e=>{this.props.set_import_colorize&&this.props.set_import_colorize(e)},this._get_average_color_of_selection=()=>{const{get_average_color_of_selection:e}=this.st4te.canvas,t=e();this._handle_current_color_change(t)},this._change_active_layer=e=>{const{layer_index:t,_layer_opened:r}=this.st4te,{change_active_layer:o}=this.st4te.canvas;t!==e?(r&&this.setSt4te({_layer_opened:!1},(()=>{this.update_cache_view(null,!0)})),o(e)):this.setSt4te({_layer_opened:!r},(()=>{this.update_cache_view(null,!0)}))},this._handle_action_close=()=>{this.props.onActionClose&&this.props.onActionClose()},this.update_cache_view=(e,t)=>{const{classes:r,canvas:o,view_name_index:i,too_much_colors_no_vector:n,filters_preview_progression:l}=this.st4te,c=(this.st4te._list_sub_header_opened,this.get_action_panel_names()),u=Math.round(7*parseFloat(l/7)),d=e?c.indexOf(e):i;e=c[d],this._cache[e]=a["default"].createElement(s.List,{key:"list-filled-"+e,style:{willChange:0===parseInt(u)||"filters"!==e?"inherit":"contents",contentVisibility:"auto",minHeight:"100%",contain:"style layout paint",overflow:"visible",paddingTop:0}},this.get_before_action_panel(d),this.get_action_panel(d).map((t=>a["default"].createElement("div",{key:e+"-"+t.label+"-"+t.text.toLowerCase()+"-wrapper",className:`swipetoolbox_i_${d}_${t.local_i}`},a["default"].createElement(s.ListSubheader,{className:this._get_list_sub_header_classname(t.name),onClick:()=>{this._scroll_to_id(`swipetoolbox_i_${d}_${t.local_i}`)}},a["default"].createElement("span",{className:"list-sub-header-main-text"},a["default"].createElement("span",null,t.icon),a["default"].createElement("span",null,t.text)),t.tutorial&&this._get_list_sub_header_content_scarlett(t.name,t.tutorial),!!t.progression&&a["default"].createElement(s.LinearProgress,{color:"primary",variant:"determinate",role:"progressbar","aria-valuenow":t.progression,"aria-valuemin":"0","aria-valuemax":"100","aria-label":"main-progressbar-"+t.text,className:r.linearProgress,value:parseInt(t.progression)%100})),t.description?a["default"].createElement("p",{className:r.info,style:{margin:"24px 32px"}},t.description):null,"filters"!==e&&"vector"!==t.label||!n?"filters"===e?a["default"].createElement("blockquote",{className:r.info},"DID YOU KNOW? Just double-tap/right-click around the drawing area to open a context menu with shortcuts including some to adjust saturation and contrast like a professional..."):null:a["default"].createElement(s.ListItem,{classes:{root:r.relevantTextBlue},button:"filters"!==e,onClick:()=>{o.to_less_color("auto")}},a["default"].createElement(s.ListItemIcon,null,a["default"].createElement(Bt["default"],{className:r.listItemIcon})),a["default"].createElement(s.ListItemText,{primary:"Auto reduce color palette",secondary:"May you need less color in your palette?"})),!("filters"!==e)&&a["default"].createElement(s.ListItem,{button:!0,onClick:this.compute_filters_preview},a["default"].createElement(s.ListItemIcon,null,a["default"].createElement(ht["default"],{className:r.listItemIcon})),a["default"].createElement(s.ListItemText,{primary:"Refresh filter previews"})),a["default"].createElement("div",{className:e+" "+r.listItems,key:e+"-"+t.label+"-"+t.text.toLowerCase()+"-inner",style:Object.assign({flexWrap:"wrap",alignContent:"stretch",flexDirection:"row",justifyContent:"flex-start"},t.text.toLowerCase().includes("filter")?{padding:"0px !important",margin:"8px !important"}:{})},t.tools.map(((o,i)=>o["for"]?a["default"].createElement("div",{key:e+"-"+t.label+o.text.toLowerCase().replaceAll(" ","-")},a["default"].createElement("input",{accept:"image/jpg, image/jpeg, image/png, image/svg, image/webp, image/gif",style:{display:"none"},id:o["for"],type:"file",onChange:o.on_click}),a["default"].createElement(s.ListItem,{className:o["class"]?o["class"]:null,component:"label",key:i+(o.disabled?"-0":"-1"),htmlFor:o["for"],button:!0,disabled:o.disabled},a["default"].createElement(s.ListItemIcon,{className:r.listItemIcon,style:o.style||{}},o.icon),a["default"].createElement(s.ListItemText,{className:r.ListItemText,primary:o.text,secondary:o.sub}))):a["default"].createElement(s.ListItem,{className:o["class"]?o["class"]:null,key:e+"-"+t.label+(o.text||"").toLowerCase().replaceAll(" ","-"),button:!0,disabled:o.disabled||!1,onClick:o.on_click},a["default"].createElement(s.ListItemIcon,{className:r.listItemIcon,style:o.style||{}},o.icon),a["default"].createElement(s.ListItemText,{className:r.ListItemText,style:o.text_style||{},primary:o.text,secondary:o.sub})))))))),this.get_after_action_panel(d)),t&&this.forceUpdate()},this.slideRenderer=({index:e,key:t})=>{const r=this.get_action_panel_names()[e];return e===this.st4te.view_name_index||e===this.st4te.previous_view_name_index?this._cache[r]:this._cache_empty[r]}},t["default"]=(0,s.withStyles)((e=>({"@global":{"@keyframes wiggle":{"0%, 7%":{transform:"scale(1.00)"},"15%":{transform:"scale(1.08)"},"20%":{transform:"scale(1.04)"},"25%":{transform:"scale(1.00)"},"30%":{transform:"scale(0.96)"},"40%, 100%":{transform:"scale(1)"}},"@keyframes shift":{"0%, 7%":{transform:"translateX(0%)"},"15%":{transform:"translateX(-25%)"},"20%":{transform:"translateX(-10%)"},"25%":{transform:"translateX(0%)"},"30%":{transform:"translateX(10%)"},"40%, 100%":{transform:"translateX(0%)"}}},listSubHeaderDescription:{lineHeight:"1em",textTransform:"initial",fontWeight:"initial",color:"#170f70",marginTop:0,textAlign:"justify",marginRight:150,minHeight:126,marginLeft:48},rippleGreen:{"& > *":{color:"#00FF16CB"}},advertising:{contain:"layout paint style",maxWidth:"calc(100% - 64px)",cursor:"pointer",borderRadius:8,border:"2px solid #00FF16",margin:"32px 32px 64px 32px",padding:"24px 12px",boxSizing:"border-box",backgroundColor:"#e7f5e5",boxShadow:"0px 0px 12px #008f09",transformOrigin:"center",filter:"sepia(1) hue-rotate(192deg) saturate(1.314) opacity(0.666)",transition:"filter cubic-bezier(0.4, 0, 0.2, 1) 225ms","& > img":{userSelect:"none",pointerEvents:"none",maxWidth:"100%",transform:"scale(1)",transition:"transform cubic-bezier(0.4, 0, 0.2, 1) 150ms"},"&:hover > img":{transform:"scale(1.05)",transition:"transform cubic-bezier(0.4, 0, 0.2, 1) 225ms"},"&:hover, &:active":{filter:"sepia(0) hue-rotate(0deg) saturate(1) opacity(1)"}},listSubHeaderToggle:{position:"absolute",right:0,top:0,margin:0,"& .MuiSvgIcon-root":{color:"#b3aee8"}},listSubHeaderCollapse:{marginTop:"0px"},listSubHeaderVideo:{contain:"layout paint size style",contentVisibility:"auto",position:"absolute",right:0,bottom:0,margin:0,padding:0,height:164,width:150},listSubHeaderVideoOverlay:{position:"absolute",top:0,right:0,height:20,width:40,backgroundColor:"#ededff"},listSubHeaderVideoFade:{position:"absolute",top:0,right:0,height:150,width:150,background:"linear-gradient(to top, #ededfff1 2.5%,  #ededffbf 5%, #ededff78 15%, transparent 30%)"},listSubHeader:{borderRadius:"none !important","&:hover":{backgroundColor:"#d4d4ff",color:"#050c4c",transition:"all cubic-bezier(0.4, 0, 0.2, 1) 350ms",boxShadow:"0px 3px 6px #3729c14d","& .list-sub-header-main-text svg":{animation:"$shift linear 675ms both"}},display:"inline-table",cursor:"pointer",transition:"all cubic-bezier(0.4, 0, 0.2, 1) 275ms",boxShadow:"0px 2px 5px #050c4c4d",width:"100%",alignSelf:"flex-start",color:"#3729c1",backgroundColor:"#ededff",fontWeight:"bold",textTransform:"capitalize","& span svg":{verticalAlign:"middle",color:"#050c4c",marginRight:e.spacing(1)}},listSubHeaderOpen:{borderRadius:"none !important","&:hover":{backgroundColor:"#ededff",color:"#3729c1",transition:"all cubic-bezier(0.4, 0, 0.2, 1) 350ms",boxShadow:"0px 3px 6px #3729c14d","& .list-sub-header-main-text svg":{animation:"$shift linear 675ms both"}},display:"inline-table",cursor:"pointer",transition:"all cubic-bezier(0.4, 0, 0.2, 1) 275ms",boxShadow:"0px 2px 5px #050c4c4d",width:"100%",alignSelf:"flex-start",color:"#3729c1",backgroundColor:"#ededff",fontWeight:"bold",textTransform:"capitalize","& span svg":{verticalAlign:"middle",color:"#050c4c",marginRight:e.spacing(1)}},info:{backgroundColor:"#f2f2ff",color:"#5c5fd1",padding:"16px",margin:0,borderRadius:"4px"},relevantTextBlue:{color:"#3729c1ff"},listItemIcon:{color:e.palette.secondary.dark},listItemIconBlue:{"& svg":{color:e.palette.secondary.light}},listItemIconBlueBold:{"& svg":{color:e.palette.secondary.dark,width:"1.314em",height:"1.314em"}},styledBadgeConnected:{"& .MuiBadge-badge":{transform:"scale(1.618) translate(50% -50%) !important",marginRight:-12,backgroundColor:"#050c4c",color:"#fafafa",boxShadow:"0 0 0 2px #fafafa","&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid #050c4c",content:'""'}},"@global":{"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}},menu:{"& .MuiPaper-root":{overflow:"inherit",contain:"layout size style"},"& .MuiList-padding":{padding:0}},layerThumbnail:{width:"128px !important",height:"auto",borderRadius:2,marginRight:e.spacing(2)},layerSelected:{borderRight:"4px solid "+e.palette.primary.action,paddingRight:12},listOfTools:{paddingTop:0},materialPicker:{fontFamily:"Open Sans !important"},flipExpandMoreIcon:{transform:"rotate(180deg)",transition:"transform 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},expandMoreIcon:{transform:"rotate(0deg)",transition:"transform 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},ListItemText:{"& .MuiTypography-colorTextSecondary":{color:"rgb(25 25 51 / 54%)"}},ListItemTextBold:{"& span.MuiListItemText-primary":{fontWeight:"bold",fontSize:"15px !important",color:e.palette.primary.dark},"& p.MuiListItemText-secondary":{fontSize:"11px !important",fontWeight:"bold",color:e.palette.secondary.contrast}},animatedDownload:{},listItems:{textAlignLast:"center",display:"inline-flex",flexWrap:"wrap",alignContent:"stretch",flexDirection:"row",justifyContent:"flex-start",marginBottom:"-20px",width:"100%",maxWidth:"100%",overflowX:"scroll",contentVisibility:"auto",padding:"16px 16px",contain:"paint style layout","&.filters":{"& .MuiListItem-root":{width:128,display:"inline-flex",height:"100%",contain:"paint style layout",margin:"8px !important",padding:"0px !important"},padding:"0px 8px",textAlignLast:"left"},"&.filters > .MuiListItem-root:hover > .MuiListItemText-root":{color:"#fff !important",background:"linear-gradient(to top, #020519 10%, #02052990 35%, #02052960 65%, #02052900 95%)",transition:"all cubic-bezier(0.4, 0, 0.2, 1) 700ms",fontWeight:"bold"},"&.filters > .MuiListItem-root > .MuiListItemText-root":{color:"#ffffffe0 !important",background:"linear-gradient(to top, #020529 5%, #020529a0 25%, #02052980 50%, #02052900 75%)",transition:"all cubic-bezier(0.4, 0, 0.2, 1) 350ms",fontWeight:"bold"},"& .MuiFormGroup-root":{flexWrap:"nowrap",padding:"16px 0px !important",contain:"layout paint style",display:"inline-flex"},"& .MuiListItem-root":{display:"table",flexGrow:1,flexBasis:"auto",width:"96px",padding:"8px !important",textAlign:"center",boxSizing:"content-box",contain:"paint style layout",transition:"all cubic-bezier(0.4, 0, 0.2, 1) 125ms","&:hover":{transition:"all cubic-bezier(0.4, 0, 0.2, 1) 325ms",color:"#050c4c",background:"#D7D7FD7D"},"& div svg.MuiSvgIcon-root":{transition:"all cubic-bezier(0.4, 0, 0.2, 1) 125ms"},"&:hover div svg.MuiSvgIcon-root":{transition:"all cubic-bezier(0.4, 0, 0.2, 1) 325ms",color:"#050c4c !important"},"& .MuiListItemIcon-root":{minWidth:0,contain:"style layout"},"& .MuiListItemText-root":{"& .MuiListItemText-primary":{fontSize:"14px"},"& .MuiListItemText-secondary":{fontSize:"10px"}}},[e.breakpoints.down("md")]:{marginBottom:"-4px",display:"inline-flex",justifyContent:"flex-start",flexDirection:"row",flexWrap:"wrap",overflowX:"overlay",width:"100%",maxWidth:"100%",flexFlow:"row","& .MuiListItem-root":{display:"block",flexGrow:1,flexBasis:"auto",width:"96px",textAlign:"center","& .MuiListItemIcon-root":{minWidth:0,contain:"paint style layout"},"& .MuiListItemText-root":{"& .MuiListItemText-primary":{fontSize:"14px"},"& .MuiListItemText-secondary":{display:"none"}}},"&.filters":{"& .MuiListItem-root":{display:"inline-flex"}}}},sliderContainer:{display:"flex",overflow:"visible"},sliderLabel:{marginRight:e.spacing(2)},linearProgress:{"& .MuiLinearProgress-barColorPrimary":{background:"linear-gradient(90deg, #0056ce 0%, #0056ce 100%)",zIndex:-1},zIndex:1,marginBottom:-2,height:2,backgroundColor:"transparent",width:"100%",display:"flex",left:0,bottom:0,position:"absolute"}})))(qt)},795:function(e,t,r){function o(e){return e&&e.__esModule?e:{"default":e}}var i,n,a,s,l,c,u;Object.defineProperty(t,"__esModule",{value:!0}),i=r(0),n=o(i),a=r(26),s=r(796),l=o(s),c=r(645),u=o(c);class d extends n["default"].PureComponent{constructor(e){super(e),this._handle_color_item_click=(e,t)=>{"function"==typeof this.props.onColorClick&&this.props.onColorClick(e,t)},this.st4te={classes:e.classes,colors:e.colors||[],selected_colors:e.selected_colors||["#"],padding:e.padding||24,gap:e.gap||0,size:e.size||32,transparent:e.transparent||!1,align:e.align||"center"}}setSt4te(e,t){let r=Object.keys(e),o=0|r.length,i="";for(let n=0;(0|n)<(0|o);n=(n+1|0)>>>0)i=r[n].toString(),this.st4te[i]=e[i];"function"==typeof t&&t()}componentDidMount(){this.forceUpdate()}componentWillReceiveProps(e){const{colors:t,selected_colors:r}=this.st4te;(e.colors[0]!==t[0].length||e.colors.length!==t.length||e.selected_colors.length!==r.length||(e.selected_colors||["#"])[0]!==(r||["#"])[0])&&this.setSt4te(e,(()=>{this.forceUpdate()}))}render(){let{classes:e,colors:t,padding:r,gap:o,size:i,transparent:a,align:s,selected_colors:c}=this.st4te;return n["default"].createElement("div",{className:e.colorPalette,style:"center"===s?{padding:r,gap:o}:{justifyContent:"start",padding:r,gap:o}},n["default"].createElement(l["default"],{style:a?{}:{display:"none"},size:40,className:e.eraseButton,icon:n["default"].createElement(u["default"],null),full_width:!0,color:"#00000000",selected:!!((0|c.indexOf("#00000000"))>=0),onClick:e=>{this._handle_color_item_click(e,"#00000000")}}),t.map(((e,t)=>{var r=!!((0|c.indexOf(e))>=0);return n["default"].createElement(l["default"],{key:"c-"+e+"-i-"+t+"-s-"+(r?"1":"0"),color:e,size:i,selected:r,onClick:this._handle_color_item_click})})))}}t["default"]=(0,a.withStyles)((e=>({colorPalette:{contain:"contents",padding:24,display:"flex",flexDirection:"row",justifyContent:"left",alignContent:"stretch","& > *:not(:last-child)":{marginRight:8,marginBottom:8},flexWrap:"wrap"},eraseButton:{marginBottom:8}})))(d)},796:function(e,t,r){function o(e){return e&&e.__esModule?e:{"default":e}}var i,n,a,s,l,c,u;Object.defineProperty(t,"__esModule",{value:!0}),i=Object.assign||function(e){var t,r,o;for(t=1;t<arguments.length;t++)for(o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e},n=r(0),a=o(n),s=r(26),l=r(797),c=o(l),u=r(596);class d extends a["default"].PureComponent{constructor(e){super(e),this.st4te={classes:e.classes,selected:e.selected||!1,color:e.color||"#00000000",size:e.size||"inherit",full_width:e.full_width||!1,icon:e.icon||null,key:e.key||Math.round(1e4*Math.random()).toString(16),style:e.style||{},_is_dark:!1}}setSt4te(e,t){let r=Object.keys(e),o=0|r.length,i="";for(let n=0;(0|n)<(0|o);n=(n+1|0)>>>0)i=r[n].toString(),this.st4te[i]=e[i];"function"==typeof t&&t()}componentDidMount(){this.forceUpdate()}componentWillReceiveProps(e){const{selected:t,color:r,size:o,icon:i,key:n}=this.st4te,a=!(r===e.color);(n!==e.key||t!==e.selected||a||o!==e.size||i!==e.icon)&&this.setSt4te(e,(()=>{this.forceUpdate()}))}render(){const{classes:e,full_width:t,selected:r,size:o,color:n,style:l,key:d}=this.st4te;let h=u.Color.new_hex(n).is_dark()?"#fff":"#000";return a["default"].createElement(s.Tooltip,{title:n,key:d},a["default"].createElement(s.IconButton,{disableRipple:!0,onClick:e=>{this.props.onClick(e,n)},style:i({background:n,width:t?"100%":o,height:o,borderRadius:"2px"},l),className:t?null:e.colorPaletteItem},r&&a["default"].createElement(c["default"],{style:{color:h}})))}}t["default"]=(0,s.withStyles)((e=>({colorPaletteItem:{padding:0,borderRadius:0,height:40,width:40}})))(d)},842:function(e,t,r){function o(e){return e&&e.__esModule?e:{"default":e}}var i,n,a,s,l,c,u,d,h,p,f;Object.defineProperty(t,"__esModule",{value:!0}),i=r(0),n=o(i),a=r(74),s=r(217),l=o(s),c=r(26),u=r(843),d=o(u),h=r(127),p=r(68),f=o(p);class _ extends n["default"].PureComponent{constructor(e){super(e),this._go_to_editor=(e="",t=!1)=>{e.startsWith("data:image/png;base64,")?f["default"].load_with(e,t):e.length>0?fetch(e).then((e=>{e.blob().then((e=>{new Promise((function(t,r){var o=new FileReader;o.onload=function(){t(o.result)},o.onerror=function(){var r=URL.createObjectURL(e);t(r)},o.readAsDataURL(e)})).then((e=>{f["default"].load_with(e,t)}))}))})):f["default"].load_with(e,t)},this._notify_size_from_slider=(e,t)=>{this.props.on_import_size_change&&this.props.on_import_size_change(e,t)},this._handle_pixel_art_delete=e=>{this.props.on_pixel_art_delete&&this.props.on_pixel_art_delete(e)},this._set_horizontal_projects_list_el_ref=e=>null==e?null:void this.setSt4te({_horizontal_projects_list_el:e},(()=>{try{this.st4te._horizontal_projects_list_el.addEventListener("wheel",this._horizontal_projects_list_el_wheel,{passive:!1})}catch(e){}})),this._horizontal_projects_list_el_wheel=e=>{e.deltaY>0?(this.st4te._horizontal_projects_list_el.scrollLeft+=100,e.preventDefault()):(this.st4te._horizontal_projects_list_el.scrollLeft-=100,e.preventDefault())},this.st4te={classes:e.classes,open:e.open,size:e.size,pixel_arts:e.pixel_arts,theme_day:e.theme_day,_paperplane:null,_horizontal_projects_list_el:{}}}setSt4te(e,t){let r=Object.keys(e),o=0|r.length,i="";for(let n=0;(0|n)<(0|o);n=(n+1|0)>>>0)i=r[n]+"",this.st4te[i]=e[i];"function"==typeof t&&t()}componentDidMount(){f["default"].trigger_loading_update(100),this.setSt4te({_paperplane:n["default"].createElement(l["default"],{id:"paperplane",loop:!0,autoplay:!0,src:"/src/js/lottie/paperplane.json",style:{transform:"translateZ(10px)",height:"75%",width:"100%",position:"absolute",top:0,left:0,zIndex:0}}),_ufo:n["default"].createElement(l["default"],{id:"ufo",loop:!0,autoplay:!0,src:"/src/js/lottie/ufo.json",style:{transform:"translateZ(10px)",height:"100%",width:"100%",position:"absolute",top:0,left:0,zIndex:0}})},(()=>{this.forceUpdate()}))}componentWillUnmount(){try{this.st4te._horizontal_projects_list_el.removeEventListener("wheel",this._horizontal_projects_list_el_wheel)}catch(e){}}componentWillReceiveProps(e){const t=this.st4te.open!==e.open;(t||this.st4te.size!==e.size||Object.keys(this.st4te.pixel_arts).join("-")!==Object.keys(e.pixel_arts).join("-"))&&this.setSt4te(e,(()=>{if(this.forceUpdate(),t)if(this.st4te.open)try{document.getElementById("presentation-video").pause()}catch(e){}else try{document.getElementById("presentation-video").play()}catch(e){}}))}render(){const{classes:e,size:t,open:r,pixel_arts:o,theme_day:i,_paperplane:a,_ufo:s}=this.st4te,l=!i;return n["default"].createElement(c.Dialog,{open:r,className:e.dialogMobileFullscreen,maxWidth:"xl",onClose:this.props.onClose,disablePortal:!1,keepMounted:!1},n["default"].createElement(c.DialogContent,null,n["default"].createElement(c.Typography,{component:"h2",variant:"h6"},"Latest artworks"),n["default"].createElement("div",{className:e.dialogContentContainer},n["default"].createElement("div",{className:e.leftImage},n["default"].createElement("input",{onChange:this.props.on_upload,accept:"image/jpg, image/svg, image/jpeg, image/png, image/webp, image/gif",style:{display:"none"},id:"button-file-dialog-primary",type:"file"}),n["default"].createElement(c.Button,{component:"label",htmlFor:"button-file-dialog-primary",fullWidth:!0,variant:"contained",color:"secondary",className:l?e.uploadButtonDesktopUfo:e.uploadButtonDesktopPaperplane,autoFocus:!0,onClick:this.props.on_upload},l?s:a," ",n["default"].createElement("span",{style:{zIndex:1,pointerEvents:"none",transform:"translateY(200%)"}},"Let's upload!"))),n["default"].createElement("div",{className:e.rightImagesContainer},n["default"].createElement("div",{className:e.rightImagesContainer,style:{padding:"8px 24px",position:"relative",overflow:"hidden",boxSizing:"border-box",width:"100%"}},n["default"].createElement(c.Typography,{id:"size-slider",gutterBottom:!0},"Reduce size of the image down to :"),n["default"].createElement(c.Slider,{key:t,defaultValue:parseInt(t),step:8,valueLabelDisplay:"auto",min:16,max:t>512?t:512,onChangeCommitted:this._notify_size_from_slider,"aria-labelledby":"size-slider"})),n["default"].createElement("input",{onChange:this.props.on_upload,accept:"image/jpg, image/svg, image/jpeg, image/png, image/webp, image/gif",style:{display:"none"},id:"button-file-dialog-secondary",type:"file"}),n["default"].createElement(c.Button,{component:"label",htmlFor:"button-file-dialog-secondary",className:e.mainUploadButton,fullWidth:!0,variant:"contained",color:"primary",autoFocus:!0},"UPLOAD"),n["default"].createElement(c.Typography,{component:"h2",variant:"h6",style:{marginTop:16,marginLeft:24}},0===Object.keys(o).length?n["default"].createElement("span",null,"Demo projects"):n["default"].createElement("span",null,"Unsaved projects")),n["default"].createElement("div",{style:{padding:"8px 24px",position:"relative",display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",boxSizing:"border-box",width:"100%"}},n["default"].createElement(c.ImageList,{rowHeight:288,cols:2,ref:this._set_horizontal_projects_list_el_ref,style:{flexWrap:"nowrap",contain:"paint style layout",contains:"strict",maxWidth:"min(576px, calc(100vw - 96px))"}},0===Object.keys(o).length?["/src/images/demo/Redstar.jpg","/src/images/demo/Beast.jpg","/src/images/demo/Disney.jpg","/src/images/demo/Masterc.jpg","/src/images/demo/Man.jpg","/src/images/demo/Tower.jpg"].map(((e,t)=>n["default"].createElement(c.ImageListItem,{style:{display:"inline-block",width:"auto",userSelect:"none"},key:t},n["default"].createElement("img",{onClick:()=>{this._go_to_editor(e)},src:e,alt:"demo #"+t,style:{zIndex:0,width:"auto",height:"100%",cursor:"pointer"}}),n["default"].createElement(c.ImageListItemBar,{title:"Try with this image",subtitle:"This is a demo"})))):Object.values(o).sort(((e,t)=>t.timestamp-e.timestamp)).map(((e,t)=>{const{id:r,kb:o,preview:i,timestamp:a}=e;return n["default"].createElement(c.ImageListItem,{style:{display:"inline-block",width:"auto",userSelect:"none"},className:"pixelated",key:r},n["default"].createElement("img",{onClick:()=>{this.props.import_JSON_state(r)},src:i,alt:"preview "+t,style:{zIndex:0,width:"auto",height:"100%",cursor:"pointer"}}),n["default"].createElement(c.ImageListItemBar,{title:(0,h.t)(a),subtitle:n["default"].createElement("span",null,o.toFixed(2)," Kb"),actionIcon:n["default"].createElement(c.IconButton,{style:{color:"#fff"},onClick:e=>{this._handle_pixel_art_delete(r)},"aria-label":"Delete"},n["default"].createElement(d["default"],null))}))}))))))),n["default"].createElement(c.DialogActions,null,n["default"].createElement(c.Button,{variant:"text",color:"primary",autoFocus:!0,onClick:this.props.onClose},(0,h.t)("words.close"))))}}t["default"]=(0,a.withStyles)((e=>({dialogMobileFullscreen:{"& .MuiPaper-root":{maxHeight:"calc(100% - -24px)",contentVisibility:"auto",contain:"paint style layout"},"& .MuiBackdrop-root":{background:"#060e2391"}},dialogContentContainer:{marginTop:16,[e.breakpoints.up("lg")]:{display:"inline-flex"},display:"grid"},leftImage:{display:"none",[e.breakpoints.up("lg")]:{display:"inherit",cursor:"pointer",float:"left",width:"384px",backgroundSize:"100%",backgroundPosition:"center",backgroundRepeat:"no-repeat","& > button":{maxHeight:36,height:36,marginTop:"calc(100% - 18px)"}},"&:hover":{backgroundSize:"100%"}},rightImagesContainer:{float:"right"},uploadButtonDesktopPaperplane:{background:"#060e23","&:hover":{background:"#01030f"},boxShadow:"none",color:"#fff",fontWeight:"bold",mixBlendMode:"hard-light",fontSize:"2.5em","& .MuiSvgIcon-root":{marginRight:"1em"}},uploadButtonDesktopUfo:{background:"#010218","&:hover":{background:"#000000"},boxShadow:"none",color:"#fff",fontWeight:"bold",fontSize:"2.5em","& .MuiSvgIcon-root":{marginRight:"1em"}},mainUploadButton:{display:"flex",[e.breakpoints.up("lg")]:{display:"none"}}})))(_)},848:function(e,t,r){var o,i,n,a,s,l;Object.defineProperty(t,"__esModule",{value:!0}),o=r(0),i=(l=o)&&l.__esModule?l:{"default":l},n=r(74),a=r(26),s=r(127);class c extends i["default"].PureComponent{constructor(e){super(e),this._handle_path_open_index=e=>{const{_path:t}=this.state,r=t.split("/").splice(0,e).join("/");this.setState({_path:r},(()=>{this.forceUpdate()}))},this._handle_path_open_next_object=e=>{const{_path:t}=this.state;let r=t.split("/");r.push(e);const o=r.join("/");this.setState({_path:o},(()=>{this.forceUpdate()}))},this.state={classes:e.classes,keepMounted:e.keepMounted||!1,open:e.open,object:e.object,_path:""}}componentWillReceiveProps(e){this.setState(e,(()=>{this.forceUpdate()}))}render(){const{classes:e,_path:t,object:r,open:o,keepMounted:n}=this.state;let l=t.split("/"),c=r||{};return l.forEach((e=>{if(""!==e)try{c=c[e]}catch(t){}})),i["default"].createElement(a.Dialog,{open:o,fullWidth:!0,disablePortal:!1,onClose:this.props.onClose,keepMounted:n},i["default"].createElement(a.DialogContent,null,i["default"].createElement(a.Breadcrumbs,{style:{paddingBottom:16}},i["default"].createElement("a",{variant:"outlined",onClick:()=>{this._handle_path_open_index(0)}},"ROOT"),l.map(((e,t)=>{if(""!==e)return i["default"].createElement(a.Link,{key:t,variant:"outlined",onClick:()=>{this._handle_path_open_index(t+1)}},e)}))),i["default"].createElement(a.Divider,null),i["default"].createElement("div",{style:{paddingBottom:16,paddingTop:16}},Object.entries(c).map(((e,t)=>{const[r,o]=e;return"string"!=typeof o?i["default"].createElement(a.Button,{style:{margin:8},key:t,variant:"outlined",onClick:()=>{this._handle_path_open_next_object(r)}},r):i["default"].createElement("img",{style:{margin:8},key:t,src:o,onClick:e=>{this.props.onSelectImage(o)}})})))),i["default"].createElement(a.DialogActions,null,i["default"].createElement(a.Button,{variant:"text",color:"primary",autoFocus:!0,onClick:this.props.onClose},(0,s.t)("words.close"))))}}t["default"]=(0,n.withStyles)((e=>({})))(c)},860:function(e,t,r){var o,i,n,a,s,l;Object.defineProperty(t,"__esModule",{value:!0}),o=r(0),i=(l=o)&&l.__esModule?l:{"default":l},n=r(74),a=r(26),s=r(127);class c extends i["default"].PureComponent{constructor(e){super(e),this._handle_text_change=e=>{this.setState({_text:e.target.value.toString()},(()=>{this.forceUpdate()}))},this._handle_size_change=e=>{this.setState({_size:parseInt(e.target.value)},(()=>{this.forceUpdate()}))},this.state={classes:e.classes,keepMounted:e.keepMounted||!1,open:e.open,_text:"",_size:12}}componentWillReceiveProps(e){this.setState(e,(()=>{this.forceUpdate()}))}render(){const{classes:e,_text:t,_size:r,open:o,keepMounted:n}=this.state;return i["default"].createElement(a.Dialog,{open:o,fullWidth:!0,disablePortal:!1,onClose:this.props.onClose,keepMounted:n},i["default"].createElement(a.DialogContent,null,i["default"].createElement(a.Typography,{component:"h2",variant:"h6"},"Write text to a new layer"),i["default"].createElement(a.Divider,null),i["default"].createElement("form",{noValidate:!0,autoComplete:"off"},i["default"].createElement(a.TextField,{fullWidth:!0,label:"Text",value:t,placeholder:"Text to draw",onChange:this._handle_text_change}),i["default"].createElement(a.TextField,{select:!0,fullWidth:!0,label:"Size",value:r,onChange:this._handle_size_change,helperText:"Please select your currency"},[{value:6,label:"xs"},{value:8,label:"s"},{value:12,label:"m"},{value:16,label:"l"},{value:24,label:"xl"},{value:36,label:"xxl"}].map((e=>i["default"].createElement(a.MenuItem,{key:e.value,value:e.value},e.label))))),i["default"].createElement(a.Button,{onClick:()=>{this.props.onSuccess(r,t)}},"Draw it")),i["default"].createElement(a.DialogActions,null,i["default"].createElement(a.Button,{variant:"text",color:"primary",autoFocus:!0,onClick:this.props.onClose},(0,s.t)("words.close"))))}}t["default"]=(0,n.withStyles)((e=>({})))(c)}}]);